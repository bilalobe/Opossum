<!DOCTYPE html><html class=writer-html5 lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=author content=bebo><link rel="shortcut icon" href=../../img/favicon.ico><title>Rate Limits - Opossum Search Documentation</title><link rel=stylesheet href=../../css/theme.css><link rel=stylesheet href=../../css/theme_extra.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css><link href=../../assets/_mkdocstrings.css rel=stylesheet><link href=../../stylesheets/extra.css rel=stylesheet><script>
        // Current page data
        var mkdocs_page_name = "Rate Limits";
        var mkdocs_page_input_path = "api\\rate-limits.md";
        var mkdocs_page_url = null;
      </script><!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]--><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js></script><script>hljs.highlightAll();</script></head> <body class=wy-body-for-nav role=document> <div class=wy-grid-for-nav> <nav data-toggle=wy-nav-shift class="wy-nav-side stickynav"> <div class=wy-side-scroll> <div class=wy-side-nav-search> <a href=../.. class="icon icon-home"> Opossum Search Documentation </a><div role=search> <form id=rtd-search-form class=wy-form action=../../search.html method=get> <input type=text name=q placeholder="Search docs" aria-label="Search docs" title="Type search term here"> </form> </div> </div> <div class="wy-menu wy-menu-vertical" data-spy=affix role=navigation aria-label="Navigation menu"> <ul> <li class=toctree-l1><a class="reference internal" href=../..>Home</a> </li> </ul> <p class=caption><span class=caption-text>Getting Started</span></p> <ul> <li class=toctree-l1><a href=../../technical/getting-started/ class="reference internal">First Steps</a> </li> <li class=toctree-l1><a href=../../technical/system-architecture-overview/ class="reference internal">System Overview</a> </li> <li class=toctree-l1><a href=../getting-started/ class="reference internal">API Reference</a> </li> <li class=toctree-l1><a href=../../technical/devops-guide/ class="reference internal">Developer Quickstart</a> </li> </ul> <p class=caption><span class=caption-text>Core Components</span></p> <ul> <li class=toctree-l1><a class="reference internal">Architecture</a> <ul> <li class=toctree-l2><a href=../../technical/system-architecture-overview/ class="reference internal">System Overview</a> </li> <li class=toctree-l2><a href=../../technical/graphql-api/ class="reference internal">GraphQL API</a> </li> <li class=toctree-l2><a href=../../technical/security-model/ class="reference internal">Security Model</a> </li> <li class=toctree-l2><a href=../../technical/prompt-management/ class="reference internal">Prompt Management</a> </li> </ul> </li> <li class=toctree-l1><a class="reference internal">Model Integration</a> <ul> <li class=toctree-l2><a href=../../model-integration/architecture/ class="reference internal">Architecture</a> </li> <li class=toctree-l2><a href=../../model-integration/backend-selection/ class="reference internal">Backend Selection</a> </li> <li class=toctree-l2><a href=../../model-integration/capability-matrix/ class="reference internal">Capability Matrix</a> </li> <li class=toctree-l2><a href=../../model-integration/providers/ class="reference internal">Provider Integration</a> </li> <li class=toctree-l2><a href=../../model-integration/configuration/ class="reference internal">Configuration</a> </li> <li class=toctree-l2><a href=../../technical/hybrid-model-selection/ class="reference internal">Hybrid Selection</a> </li> <li class=toctree-l2><a href=../../technical/prompt-management/ class="reference internal">Prompt Management</a> </li> <li class=toctree-l2><a href=../../model-integration/dspy-integration/ class="reference internal">DSPy Integration</a> </li> <li class=toctree-l2><a href=../../model-integration/dspy-technical/ class="reference internal">DSPy Technical Implementation</a> </li> <li class=toctree-l2><a href=../../model-integration/dspy-examples/ class="reference internal">DSPy Usage Examples</a> </li> <li class=toctree-l2><a href=../../model-integration/dspy-metrics/ class="reference internal">DSPy Metrics & Performance</a> </li> </ul> </li> <li class=toctree-l1><a class="reference internal">Service Availability</a> <ul> <li class=toctree-l2><a href=../../service-availability/context-and-scope/ class="reference internal">Context and Scope</a> </li> <li class=toctree-l2><a href=../../service-availability/quality-requirements/ class="reference internal">Quality Requirements</a> </li> <li class=toctree-l2><a href=../../service-availability/architecture-constraints/ class="reference internal">Architecture Constraints</a> </li> <li class=toctree-l2><a href=../../service-availability/availability-monitoring/ class="reference internal">Availability Monitoring</a> </li> <li class=toctree-l2><a href=../../service-availability/service-outage/ class="reference internal">Error Handling</a> </li> </ul> </li> <li class=toctree-l1><a class="reference internal">Resilience Patterns</a> <ul> <li class=toctree-l2><a href=../../technical/resilience-patterns/ class="reference internal">Core Strategies</a> </li> <li class=toctree-l2><a href=../../technical/error-handling-resilience/ class="reference internal">Error Handling</a> </li> <li class=toctree-l2><a href=../../service-availability/rate-limiting-throttling/ class="reference internal">Rate Limiting</a> </li> <li class=toctree-l2><a href=../../service-availability/log-alerts/ class="reference internal">Logging and Alerts</a> </li> <li class=toctree-l2><a href=../../service-availability/testing-validation/ class="reference internal">Testing and Validation</a> </li> </ul> </li> </ul> <p class=caption><span class=caption-text>Features</span></p> <ul> <li class=toctree-l1><a class="reference internal">Conversation</a> <ul> <li class=toctree-l2><a href=../../conversation/topic-detection/ class="reference internal">Topic Detection</a> </li> <li class=toctree-l2><a href=../../conversation/conversation-flow/ class="reference internal">Conversation Flow</a> </li> <li class=toctree-l2><a href=../../conversation/response-generation/ class="reference internal">Response Generation</a> </li> <li class=toctree-l2><a href=../../conversation/nlp-components/ class="reference internal">NLP Components</a> </li> <li class=toctree-l2><a href=../../conversation/markov-generation/ class="reference internal">Markov Generation</a> </li> </ul> </li> <li class=toctree-l1><a class="reference internal">Image Processing</a> <ul> <li class=toctree-l2><a href=../../image-processing/overview/ class="reference internal">Overview</a> </li> <li class=toctree-l2><a href=../../image-processing/effects/ class="reference internal">Effects and Filters</a> </li> <li class=toctree-l2><a href=../../image-processing/svg-generation/ class="reference internal">SVG Generation</a> </li> <li class=toctree-l2><a href=../../image-processing/optimization/ class="reference internal">Performance Optimization</a> </li> <li class=toctree-l2><a href=../../image-processing/caching/ class="reference internal">Caching Strategy</a> </li> </ul> </li> <li class=toctree-l1><a class="reference internal">Visualizations & Fun</a> <ul> <li class=toctree-l2><a href=../../features/service-vizualizations/ class="reference internal">Service Visualizations</a> </li> <li class=toctree-l2><a href=../../features/national-day/ class="reference internal">National Opossum Day</a> </li> <li class=toctree-l2><a href=../../features/easter-eggs/ class="reference internal">Easter Eggs</a> </li> <li class=toctree-l2><a href=../../features/special-events/ class="reference internal">Special Events</a> </li> <li class=toctree-l2><a href=../../features/background-stories/ class="reference internal">Background Stories</a> </li> </ul> </li> </ul> <p class=caption><span class=caption-text>Technical Reference</span></p> <ul class=current> <li class=toctree-l1><a class="reference internal">Infrastructure</a> <ul> <li class=toctree-l2><a href=../../technical/redis-caching-architecture/ class="reference internal">Redis Caching</a> </li> <li class=toctree-l2><a href=../../technical/image-processing-pipeline/ class="reference internal">Image Pipeline</a> </li> <li class=toctree-l2><a href=../../technical/opentelemetry-integration/ class="reference internal">OpenTelemetry</a> </li> <li class=toctree-l2><a href=../../technical/svg-markup/ class="reference internal">SVG Markup</a> </li> <li class=toctree-l2><a href=../../technical/bot-user-simulation/ class="reference internal">Bot User Simulation</a> </li> <li class=toctree-l2><a href=../../infrastructure/optimization-strategies/ class="reference internal">Optimization Strategies</a> </li> <li class=toctree-l2><a href=../../infrastructure/pipeline-optimization/ class="reference internal">Pipeline Optimization</a> </li> <li class=toctree-l2><a href=../../infrastructure/constraint-mapping/ class="reference internal">Constraint Mapping</a> </li> </ul> </li> <li class="toctree-l1 current"><a class="reference internal current">API Documentation</a> <ul class=current> <li class=toctree-l2><a href=../routes/ class="reference internal">Routes</a> </li> <li class=toctree-l2><a href=../request-response/ class="reference internal">Request/Response</a> </li> <li class=toctree-l2><a href=../oauth-configuration/ class="reference internal">OAuth Configuration</a> </li> <li class=toctree-l2><a href=../error-codes/ class="reference internal">Error Codes</a> </li> <li class="toctree-l2 current"><a class="reference internal current" href=#>Rate Limits</a> <ul class=current> <li class=toctree-l3><a class="reference internal" href=#overview>Overview</a> </li> <li class=toctree-l3><a class="reference internal" href=#rate-limit-structure>Rate Limit Structure</a> </li> <li class=toctree-l3><a class="reference internal" href=#default-rate-limits>Default Rate Limits</a> </li> <li class=toctree-l3><a class="reference internal" href=#endpoint-specific-limits>Endpoint-Specific Limits</a> </li> <li class=toctree-l3><a class="reference internal" href=#model-specific-limits>Model-Specific Limits</a> </li> <li class=toctree-l3><a class="reference internal" href=#bulk-operation-limits>Bulk Operation Limits</a> </li> <li class=toctree-l3><a class="reference internal" href=#rate-limit-headers>Rate Limit Headers</a> </li> <li class=toctree-l3><a class="reference internal" href=#rate-limit-response>Rate Limit Response</a> </li> <li class=toctree-l3><a class="reference internal" href=#handling-rate-limits>Handling Rate Limits</a> <ul> <li class=toctree-l4><a class="reference internal" href=#best-practices>Best Practices</a> </li> <li class=toctree-l4><a class="reference internal" href=#example-backoff-implementation>Example Backoff Implementation</a> </li> </ul> </li> <li class=toctree-l3><a class="reference internal" href=#monitoring-rate-limit-usage>Monitoring Rate Limit Usage</a> </li> <li class=toctree-l3><a class="reference internal" href=#quota-extensions>Quota Extensions</a> </li> <li class=toctree-l3><a class="reference internal" href=#rate-limiting-strategies>Rate Limiting Strategies</a> </li> <li class=toctree-l3><a class="reference internal" href=#regional-considerations>Regional Considerations</a> </li> <li class=toctree-l3><a class="reference internal" href=#custom-rate-limit-plans>Custom Rate Limit Plans</a> </li> <li class=toctree-l3><a class="reference internal" href=#exemptions-and-whitelisting>Exemptions and Whitelisting</a> </li> </ul> </li> <li class=toctree-l2><a href=../webhooks/ class="reference internal">Webhook Integration</a> </li> <li class=toctree-l2><a href=../health-endpoints/ class="reference internal">Health Endpoints</a> </li> <li class=toctree-l2><a href=../compliance/ class="reference internal">Compliance</a> </li> </ul> </li> <li class=toctree-l1><a class="reference internal">DSPy Tutorials</a> <ul> <li class=toctree-l2><a href=../../tutorials/dspy/getting-started/ class="reference internal">Getting Started with DSPy</a> </li> <li class=toctree-l2><a href=../../tutorials/dspy/optimizing-prompts/ class="reference internal">Optimizing Prompts</a> </li> <li class=toctree-l2><a href=../../tutorials/dspy/building-pipelines/ class="reference internal">Building Pipelines</a> </li> <li class=toctree-l2><a href=../../tutorials/dspy/advanced-reasoning/ class="reference internal">Advanced Reasoning</a> </li> </ul> </li> </ul> <p class=caption><span class=caption-text>About</span></p> <ul> <li class=toctree-l1><a href=../../about/history/ class="reference internal">Project History</a> </li> <li class=toctree-l1><a href=../../about/team/ class="reference internal">Team</a> </li> <li class=toctree-l1><a href=../../about/roadmap/ class="reference internal">Roadmap</a> </li> </ul> </div> </div> </nav> <section data-toggle=wy-nav-shift class=wy-nav-content-wrap> <nav class=wy-nav-top role=navigation aria-label="Mobile navigation menu"> <i data-toggle=wy-nav-top class="fa fa-bars"></i> <a href=../..>Opossum Search Documentation</a> </nav> <div class=wy-nav-content> <div class=rst-content><div role=navigation aria-label="breadcrumbs navigation"> <ul class=wy-breadcrumbs> <li><a href=../.. class="icon icon-home" aria-label=Docs></a></li> <li class=breadcrumb-item>Technical Reference</li> <li class=breadcrumb-item>API Documentation</li> <li class="breadcrumb-item active">Rate Limits</li> <li class=wy-breadcrumbs-aside> </li> </ul> <hr> </div> <div role=main class=document itemscope=itemscope itemtype=http://schema.org/Article> <div class=section itemprop=articleBody> <h1 id=rate-limits>Rate Limits<a class=headerlink href=#rate-limits title="Permanent link">&para;</a></h1> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p>To ensure optimal performance and fair usage for all users, Opossum Search implements rate limiting across all API endpoints. This document outlines the rate limit policies, quotas, and best practices for handling rate-limiting scenarios. For a list of available API routes, see <a href=../routes/ >API Routes</a>. For detailed information about request and response formats, see <a href=../request-response/ >Request/Response Documentation</a>. For error code details, see <a href=../error-codes/ >Error Codes</a>. To learn about real-time notifications, refer to <a href=../webhooks/ >Webhooks</a>. For system status and component health, see <a href=../health-endpoints/ >Health Endpoints</a>.</p> <h2 id=rate-limit-structure>Rate Limit Structure<a class=headerlink href=#rate-limit-structure title="Permanent link">&para;</a></h2> <p>Opossum Search uses a tiered rate limiting structure based on:</p> <ol> <li><strong>API Key / User</strong>: Limits per unique API key</li> <li><strong>Endpoint</strong>: Different limits for different operations</li> <li><strong>IP Address</strong>: To prevent abuse, even with valid credentials</li> <li><strong>Resource Type</strong>: Different limits for different resources (models, storage, etc.)</li> </ol> <h2 id=default-rate-limits>Default Rate Limits<a class=headerlink href=#default-rate-limits title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th>Plan</th> <th>Requests per Minute</th> <th>Concurrent Requests</th> <th>Daily Quota</th> </tr> </thead> <tbody> <tr> <td>Basic</td> <td>60</td> <td>5</td> <td>10,000</td> </tr> <tr> <td>Professional</td> <td>300</td> <td>20</td> <td>50,000</td> </tr> <tr> <td>Enterprise</td> <td>1,200</td> <td>100</td> <td>Customizable</td> </tr> </tbody> </table> <h2 id=endpoint-specific-limits>Endpoint-Specific Limits<a class=headerlink href=#endpoint-specific-limits title="Permanent link">&para;</a></h2> <p>Different endpoints have different resource requirements and corresponding rate limits:</p> <table> <thead> <tr> <th>Endpoint Category</th> <th>Basic (RPM)</th> <th>Professional (RPM)</th> <th>Enterprise (RPM)</th> </tr> </thead> <tbody> <tr> <td>Search</td> <td>60</td> <td>300</td> <td>1,200</td> </tr> <tr> <td>Image Analysis</td> <td>20</td> <td>100</td> <td>400</td> </tr> <tr> <td>SVG Generation</td> <td>30</td> <td>150</td> <td>600</td> </tr> <tr> <td>Conversation</td> <td>40</td> <td>200</td> <td>800</td> </tr> <tr> <td>Configuration</td> <td>15</td> <td>60</td> <td>240</td> </tr> <tr> <td>Health/Status</td> <td>120</td> <td>600</td> <td>2,400</td> </tr> </tbody> </table> <p>RPM = Requests Per Minute</p> <h2 id=model-specific-limits>Model-Specific Limits<a class=headerlink href=#model-specific-limits title="Permanent link">&para;</a></h2> <p>Different AI models have different resource requirements:</p> <table> <thead> <tr> <th>Model</th> <th>Basic (RPM)</th> <th>Professional (RPM)</th> <th>Enterprise (RPM)</th> </tr> </thead> <tbody> <tr> <td>Gemini</td> <td>30</td> <td>150</td> <td>600</td> </tr> <tr> <td>Ollama</td> <td>60</td> <td>300</td> <td>1,200</td> </tr> <tr> <td>Local Models</td> <td>120</td> <td>600</td> <td>2,400</td> </tr> </tbody> </table> <h2 id=bulk-operation-limits>Bulk Operation Limits<a class=headerlink href=#bulk-operation-limits title="Permanent link">&para;</a></h2> <p>For bulk operations:</p> <table> <thead> <tr> <th>Operation</th> <th>Max Items Per Request</th> <th>Max Requests Per Hour</th> </tr> </thead> <tbody> <tr> <td>Multi-Search</td> <td>10</td> <td>100</td> </tr> <tr> <td>Batch Image Analysis</td> <td>5</td> <td>50</td> </tr> <tr> <td>Bulk SVG Generation</td> <td>20</td> <td>200</td> </tr> </tbody> </table> <h2 id=rate-limit-headers>Rate Limit Headers<a class=headerlink href=#rate-limit-headers title="Permanent link">&para;</a></h2> <p>Each API response includes rate limit information in the headers:</p> <table> <thead> <tr> <th>Header</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>X-Rate-Limit-Limit</code></td> <td>The rate limit ceiling for the given endpoint</td> </tr> <tr> <td><code>X-Rate-Limit-Remaining</code></td> <td>The number of requests left for the time window</td> </tr> <tr> <td><code>X-Rate-Limit-Reset</code></td> <td>The time at which the current rate limit window resets in UTC epoch seconds</td> </tr> <tr> <td><code>X-Rate-Limit-Used</code></td> <td>The number of requests made in the current time window</td> </tr> <tr> <td><code>X-Rate-Limit-Resource</code></td> <td>The resource being rate-limited (e.g., "search", "model:gemini")</td> </tr> </tbody> </table> <p>Example headers:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>X-Rate-Limit-Limit: 60
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>X-Rate-Limit-Remaining: 45
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>X-Rate-Limit-Reset: 1616172903
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>X-Rate-Limit-Used: 15
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>X-Rate-Limit-Resource: search
</code></pre></div> <h2 id=rate-limit-response>Rate Limit Response<a class=headerlink href=#rate-limit-response title="Permanent link">&para;</a></h2> <p>When a rate limit is exceeded, the API responds with:</p> <ul> <li>HTTP Status Code: <code>429 Too Many Requests</code></li> <li>Response Body:</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=p>{</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>  </span><span class=nt>&quot;success&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>  </span><span class=nt>&quot;error&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>    </span><span class=nt>&quot;code&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;rate_limit_exceeded&quot;</span><span class=p>,</span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>    </span><span class=nt>&quot;message&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;You have exceeded the rate limit for this endpoint&quot;</span><span class=p>,</span>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>    </span><span class=nt>&quot;details&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>      </span><span class=p>{</span>
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=w>        </span><span class=nt>&quot;limit&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>60</span><span class=p>,</span>
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=w>        </span><span class=nt>&quot;remaining&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
<a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=w>        </span><span class=nt>&quot;reset&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>1616172903</span><span class=p>,</span>
<a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=w>        </span><span class=nt>&quot;resource&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;search&quot;</span>
<a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=w>      </span><span class=p>}</span>
<a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=w>    </span><span class=p>]</span>
<a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=w>  </span><span class=p>},</span>
<a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a><span class=w>  </span><span class=nt>&quot;meta&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=w>    </span><span class=nt>&quot;request_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;req_8f7h6g5j4k3l2j1k&quot;</span>
<a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a><span class=w>  </span><span class=p>}</span>
<a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a><span class=p>}</span>
</code></pre></div> <p>The API may also include a <code>Retry-After</code> header indicating the number of seconds to wait before retrying.</p> <h2 id=handling-rate-limits>Handling Rate Limits<a class=headerlink href=#handling-rate-limits title="Permanent link">&para;</a></h2> <h3 id=best-practices>Best Practices<a class=headerlink href=#best-practices title="Permanent link">&para;</a></h3> <ol> <li> <p><strong>Implement backoff strategies</strong>:</p> <ul> <li>Use exponential backoff with jitter</li> <li>Respect the <code>Retry-After</code> header when provided</li> <li>Limit maximum retry attempts</li> </ul> </li> <li> <p><strong>Optimize request patterns</strong>:</p> <ul> <li>Batch requests when possible using bulk endpoints</li> <li>Cache responses for frequently accessed data</li> <li>Prioritize critical requests when nearing limits</li> </ul> </li> <li> <p><strong>Monitor usage</strong>:</p> <ul> <li>Track rate limit headers in responses</li> <li>Set up alerts for approaching limits</li> <li>Use the dashboard to monitor historical usage</li> </ul> </li> </ol> <h3 id=example-backoff-implementation>Example Backoff Implementation<a class=headerlink href=#example-backoff-implementation title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=k>async</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>makeRequestWithBackoff</span><span class=p>(</span><span class=nx>url</span><span class=p>,</span><span class=w> </span><span class=nx>options</span><span class=p>,</span><span class=w> </span><span class=nx>maxRetries</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>5</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=w>  </span><span class=kd>let</span><span class=w> </span><span class=nx>retries</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=w>  </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=nx>retries</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=nx>maxRetries</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=w>    </span><span class=k>try</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=w>      </span><span class=kd>const</span><span class=w> </span><span class=nx>response</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>fetch</span><span class=p>(</span><span class=nx>url</span><span class=p>,</span><span class=w> </span><span class=nx>options</span><span class=p>);</span>
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>
<a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=w>      </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>status</span><span class=w> </span><span class=o>!==</span><span class=w> </span><span class=mf>429</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=nx>response</span><span class=p>;</span>
<a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=w>      </span><span class=p>}</span>
<a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>
<a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=w>      </span><span class=c1>// Handle rate limiting</span>
<a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a><span class=w>      </span><span class=nx>retries</span><span class=o>++</span><span class=p>;</span>
<a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>
<a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a><span class=w>      </span><span class=c1>// Get retry time from header or calculate exponential backoff</span>
<a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a><span class=w>      </span><span class=kd>const</span><span class=w> </span><span class=nx>retryAfter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>response</span><span class=p>.</span><span class=nx>headers</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;Retry-After&#39;</span><span class=p>);</span>
<a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a><span class=w>      </span><span class=kd>const</span><span class=w> </span><span class=nx>waitTime</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>retryAfter</span><span class=w> </span>
<a id=__codelineno-2-18 name=__codelineno-2-18 href=#__codelineno-2-18></a><span class=w>        </span><span class=o>?</span><span class=w> </span><span class=nb>parseInt</span><span class=p>(</span><span class=nx>retryAfter</span><span class=p>,</span><span class=w> </span><span class=mf>10</span><span class=p>)</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mf>1000</span>
<a id=__codelineno-2-19 name=__codelineno-2-19 href=#__codelineno-2-19></a><span class=w>        </span><span class=o>:</span><span class=w> </span><span class=nb>Math</span><span class=p>.</span><span class=nx>min</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>pow</span><span class=p>(</span><span class=mf>2</span><span class=p>,</span><span class=w> </span><span class=nx>retries</span><span class=p>)</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mf>1000</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>()</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mf>1000</span><span class=p>,</span><span class=w> </span><span class=mf>60000</span><span class=p>);</span>
<a id=__codelineno-2-20 name=__codelineno-2-20 href=#__codelineno-2-20></a>
<a id=__codelineno-2-21 name=__codelineno-2-21 href=#__codelineno-2-21></a><span class=w>      </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Rate limited. Retrying in </span><span class=si>${</span><span class=nx>waitTime</span><span class=si>}</span><span class=sb>ms (attempt </span><span class=si>${</span><span class=nx>retries</span><span class=si>}</span><span class=sb> of </span><span class=si>${</span><span class=nx>maxRetries</span><span class=si>}</span><span class=sb>)`</span><span class=p>);</span>
<a id=__codelineno-2-22 name=__codelineno-2-22 href=#__codelineno-2-22></a>
<a id=__codelineno-2-23 name=__codelineno-2-23 href=#__codelineno-2-23></a><span class=w>      </span><span class=k>await</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=nb>Promise</span><span class=p>(</span><span class=nx>resolve</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>setTimeout</span><span class=p>(</span><span class=nx>resolve</span><span class=p>,</span><span class=w> </span><span class=nx>waitTime</span><span class=p>));</span>
<a id=__codelineno-2-24 name=__codelineno-2-24 href=#__codelineno-2-24></a><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=nx>error</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-2-25 name=__codelineno-2-25 href=#__codelineno-2-25></a><span class=w>      </span><span class=nx>retries</span><span class=o>++</span><span class=p>;</span>
<a id=__codelineno-2-26 name=__codelineno-2-26 href=#__codelineno-2-26></a>
<a id=__codelineno-2-27 name=__codelineno-2-27 href=#__codelineno-2-27></a><span class=w>      </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>retries</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=nx>maxRetries</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-2-28 name=__codelineno-2-28 href=#__codelineno-2-28></a><span class=w>        </span><span class=k>throw</span><span class=w> </span><span class=nx>error</span><span class=p>;</span>
<a id=__codelineno-2-29 name=__codelineno-2-29 href=#__codelineno-2-29></a><span class=w>      </span><span class=p>}</span>
<a id=__codelineno-2-30 name=__codelineno-2-30 href=#__codelineno-2-30></a>
<a id=__codelineno-2-31 name=__codelineno-2-31 href=#__codelineno-2-31></a><span class=w>      </span><span class=c1>// Exponential backoff for network errors</span>
<a id=__codelineno-2-32 name=__codelineno-2-32 href=#__codelineno-2-32></a><span class=w>      </span><span class=kd>const</span><span class=w> </span><span class=nx>waitTime</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>Math</span><span class=p>.</span><span class=nx>min</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>pow</span><span class=p>(</span><span class=mf>2</span><span class=p>,</span><span class=w> </span><span class=nx>retries</span><span class=p>)</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mf>1000</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>()</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mf>1000</span><span class=p>,</span><span class=w> </span><span class=mf>60000</span><span class=p>);</span>
<a id=__codelineno-2-33 name=__codelineno-2-33 href=#__codelineno-2-33></a><span class=w>      </span><span class=k>await</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=nb>Promise</span><span class=p>(</span><span class=nx>resolve</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>setTimeout</span><span class=p>(</span><span class=nx>resolve</span><span class=p>,</span><span class=w> </span><span class=nx>waitTime</span><span class=p>));</span>
<a id=__codelineno-2-34 name=__codelineno-2-34 href=#__codelineno-2-34></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-2-35 name=__codelineno-2-35 href=#__codelineno-2-35></a><span class=w>  </span><span class=p>}</span>
<a id=__codelineno-2-36 name=__codelineno-2-36 href=#__codelineno-2-36></a>
<a id=__codelineno-2-37 name=__codelineno-2-37 href=#__codelineno-2-37></a><span class=w>  </span><span class=k>throw</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=sb>`Failed after </span><span class=si>${</span><span class=nx>maxRetries</span><span class=si>}</span><span class=sb> retries`</span><span class=p>);</span>
<a id=__codelineno-2-38 name=__codelineno-2-38 href=#__codelineno-2-38></a><span class=p>}</span>
</code></pre></div> <h2 id=monitoring-rate-limit-usage>Monitoring Rate Limit Usage<a class=headerlink href=#monitoring-rate-limit-usage title="Permanent link">&para;</a></h2> <p>The dashboard provides real-time and historical rate limit usage:</p> <ol> <li><strong>Real-time Monitor</strong>: View current usage and remaining capacity</li> <li><strong>Usage Reports</strong>: Analyze usage patterns over time</li> <li><strong>Alerts</strong>: Set up notifications for approaching limits</li> <li><strong>Rate Limit Events</strong>: Log of rate limit events</li> </ol> <h2 id=quota-extensions>Quota Extensions<a class=headerlink href=#quota-extensions title="Permanent link">&para;</a></h2> <p>For temporary increases in capacity:</p> <ol> <li><strong>Burst Capacity</strong>: Short-term rate limit increases for planned events</li> <li><strong>Emergency Increases</strong>: For critical scenarios</li> <li><strong>Gradual Scaling</strong>: For growing applications</li> </ol> <p>Contact support for quota extension requests.</p> <h2 id=rate-limiting-strategies>Rate Limiting Strategies<a class=headerlink href=#rate-limiting-strategies title="Permanent link">&para;</a></h2> <p>Opossum Search implements several rate limiting algorithms:</p> <ol> <li><strong>Token Bucket</strong>: Primary algorithm for most endpoints</li> <li><strong>Leaky Bucket</strong>: For high-throughput endpoints</li> <li><strong>Sliding Window</strong>: For conversation and session-based endpoints</li> <li><strong>Concurrent Request Limiting</strong>: For resource-intensive operations</li> </ol> <h2 id=regional-considerations>Regional Considerations<a class=headerlink href=#regional-considerations title="Permanent link">&para;</a></h2> <p>Rate limits may vary by region due to infrastructure differences:</p> <table> <thead> <tr> <th>Region</th> <th>Adjustment Factor</th> </tr> </thead> <tbody> <tr> <td>us-east</td> <td>1.0x (baseline)</td> </tr> <tr> <td>us-west</td> <td>1.0x</td> </tr> <tr> <td>eu-central</td> <td>0.9x</td> </tr> <tr> <td>ap-southeast</td> <td>0.8x</td> </tr> </tbody> </table> <h2 id=custom-rate-limit-plans>Custom Rate Limit Plans<a class=headerlink href=#custom-rate-limit-plans title="Permanent link">&para;</a></h2> <p>Enterprise customers can request custom rate limit configurations:</p> <ul> <li>Model-specific adjustments</li> <li>Endpoint-specific quotas</li> <li>Time-based quota allocation</li> <li>Reserved capacity</li> </ul> <p>Contact your account manager to discuss custom rate limit plans.</p> <h2 id=exemptions-and-whitelisting>Exemptions and Whitelisting<a class=headerlink href=#exemptions-and-whitelisting title="Permanent link">&para;</a></h2> <p>Critical services that require exemptions from standard rate limits:</p> <ol> <li><strong>Status Page Monitors</strong>: Health checking services</li> <li><strong>Authorized Partners</strong>: Strategic integration partners</li> <li><strong>Internal Services</strong>: Opossum internal monitoring</li> </ol> <p>Exemption requests require security review and approval.</p> </div> </div><footer> <div class=rst-footer-buttons role=navigation aria-label="Footer Navigation"> <a href=../error-codes/ class="btn btn-neutral float-left" title="Error Codes"><span class="icon icon-circle-arrow-left"></span> Previous</a> <a href=../webhooks/ class="btn btn-neutral float-right" title="Webhook Integration">Next <span class="icon icon-circle-arrow-right"></span></a> </div> <hr> <div role=contentinfo> <!-- Copyright etc --> </div> Built with <a href=https://www.mkdocs.org/ >MkDocs</a> using a <a href=https://github.com/readthedocs/sphinx_rtd_theme>theme</a> provided by <a href=https://readthedocs.org>Read the Docs</a>. </footer> </div> </div> </section> </div> <div class=rst-versions role=note aria-label=Versions> <span class=rst-current-version data-toggle=rst-current-version> <span><a href=../error-codes/ style="color: #fcfcfc">&laquo; Previous</a></span> <span><a href=../webhooks/ style="color: #fcfcfc">Next &raquo;</a></span> </span> </div> <script src=../../js/jquery-3.6.0.min.js></script> <script>var base_url = "../..";</script> <script src=../../js/theme_extra.js></script> <script src=../../js/theme.js></script> <script src=../../search/main.js></script> <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script> </body> </html> 