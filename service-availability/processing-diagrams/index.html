<!DOCTYPE html>
<html class="writer-html5" lang="en"> <head><meta charset="utf-8"/><meta content="IE=edge" http-equiv="X-UA-Compatible"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="bebo" name="author"/><link href="../../img/favicon.ico" rel="shortcut icon"/><title>Diagrams - Opossum Search Documentation</title><link href="../../css/theme.css" rel="stylesheet"/><link href="../../css/theme_extra.css" rel="stylesheet"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" rel="stylesheet"/><script>
        // Current page data
        var mkdocs_page_name = "Diagrams";
        var mkdocs_page_input_path = "service-availability\\processing-diagrams.md";
        var mkdocs_page_url = null;
      </script><!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]--><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script><script>hljs.highlightAll();</script></head> <body class="wy-body-for-nav" role="document"> <div class="wy-grid-for-nav"> <nav class="wy-nav-side stickynav" data-toggle="wy-nav-shift"> <div class="wy-side-scroll"> <div class="wy-side-nav-search"> <a class="icon icon-home" href="../.."> Opossum Search Documentation </a><div role="search"> <form action="../../search.html" class="wy-form" id="rtd-search-form" method="get"> <input aria-label="Search docs" name="q" placeholder="Search docs" title="Type search term here" type="text"/> </form> </div> </div> <div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation"> <ul> <li class="toctree-l1"><a class="reference internal" href="../..">Home</a> </li> </ul> <p class="caption"><span class="caption-text">Service Availability</span></p> <ul class="current"> <li class="toctree-l1"><a class="reference internal" href="../context-and-scope/">Context and Scope</a> </li> <li class="toctree-l1"><a class="reference internal" href="../quality-requirements/">Quality Requirements</a> </li> <li class="toctree-l1"><a class="reference internal" href="../architecture-constraints/">Architecture Constraints</a> </li> <li class="toctree-l1"><a class="reference internal" href="../availability-monitoring/">Availability Monitoring</a> </li> <li class="toctree-l1"><a class="reference internal" href="../service-outage/">Error Handling</a> </li> <li class="toctree-l1"><a class="reference internal" href="../rate-limiting-throttling/">Rate Limiting</a> </li> <li class="toctree-l1"><a class="reference internal" href="../log-alerts/">Logging and Alerts</a> </li> <li class="toctree-l1"><a class="reference internal" href="../fallback-mechanisms/">Fallback Mechanisms</a> </li> <li class="toctree-l1"><a class="reference internal" href="../testing-validation/">Testing and Validation</a> </li> <li class="toctree-l1 current"><a class="reference internal current" href="#">Diagrams</a> <ul class="current"> <li class="toctree-l2"><a class="reference internal" href="#101-system-architecture-diagram">10.1 System Architecture Diagram</a> </li> <li class="toctree-l2"><a class="reference internal" href="#102-service-monitoring-flowchart">10.2 Service Monitoring Flowchart</a> </li> <li class="toctree-l2"><a class="reference internal" href="#103-failover-process-diagram">10.3 Failover Process Diagram</a> </li> <li class="toctree-l2"><a class="reference internal" href="#104-rate-limit-monitoring-diagram">10.4 Rate Limit Monitoring Diagram</a> </li> <li class="toctree-l2"><a class="reference internal" href="#105-recovery-detection-process">10.5 Recovery Detection Process</a> </li> <li class="toctree-l2"><a class="reference internal" href="#106-user-experience-flow">10.6 User Experience Flow</a> </li> <li class="toctree-l2"><a class="reference internal" href="#107-c4-context-diagram">10.7 C4 Context Diagram</a> </li> </ul> </li> </ul> </div> </div> </nav> <section class="wy-nav-content-wrap" data-toggle="wy-nav-shift"> <nav aria-label="Mobile navigation menu" class="wy-nav-top" role="navigation"> <i class="fa fa-bars" data-toggle="wy-nav-top"></i> <a href="../..">Opossum Search Documentation</a> </nav> <div class="wy-nav-content"> <div class="rst-content"><div aria-label="breadcrumbs navigation" role="navigation"> <ul class="wy-breadcrumbs"> <li><a aria-label="Docs" class="icon icon-home" href="../.."></a></li> <li class="breadcrumb-item">Service Availability</li> <li class="breadcrumb-item active">Diagrams</li> <li class="wy-breadcrumbs-aside"> </li> </ul> <hr/> </div> <div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main"> <div class="section" itemprop="articleBody"> <h1 id="10-diagrams-and-visuals">10. Diagrams and Visuals</h1> <h2 id="101-system-architecture-diagram">10.1 System Architecture Diagram</h2> <pre class="mermaid"><code>flowchart TD
    Client["Client Application"]
    Router["Service Router"]
    GeminiAPI["Gemini API\n(External)"]
    Ollama["Ollama\n(Local API)"]
    Transformers["Transformers\n(Local Lib)"]
    Monitoring["Availability Monitoring System"]

    Client --&gt; Router
    Router --&gt; GeminiAPI
    Router --&gt; Ollama
    Router --&gt; Transformers
    GeminiAPI &amp; Ollama &amp; Transformers --&gt; Monitoring</code></pre> <h2 id="102-service-monitoring-flowchart">10.2 Service Monitoring Flowchart</h2> <pre class="mermaid"><code>flowchart TD
    Start["Start Application"] --&gt; CheckInterval["Check Interval Reached?"]
    CheckInterval --&gt; CheckService["Check Service Availability"]
    CheckService --&gt; UpdateCache["Update Cache"]
    UpdateCache --&gt; StatusChanged["Status Changed?"]
    StatusChanged -- Yes --&gt; StatusEvent["Status Change Event"]
    StatusEvent --&gt; UpdateLogs["Update Logs &amp; Send Alerts"]
    StatusChanged -- No --&gt; Wait["Wait for Next Check"]</code></pre> <h2 id="103-failover-process-diagram">10.3 Failover Process Diagram</h2> <pre class="mermaid"><code>flowchart TD
    Request["Request Received"] --&gt; ServiceAvailable["Service Available?"]
    ServiceAvailable -- Yes --&gt; RateLimited["Service Rate-Limited?"]
    ServiceAvailable -- No --&gt; TryNext["Try Next Service"]
    RateLimited -- No --&gt; ProcessPrimary["Process with Primary Service"]
    TryNext --&gt; AnyAvailable["Any Service Available?"]
    AnyAvailable -- No --&gt; ReturnError["Return Error\nUse Client Fallback"]
    AnyAvailable -- Yes --&gt; ProcessAvailable["Process with\nAvailable Service"]</code></pre> <h2 id="104-rate-limit-monitoring-diagram">10.4 Rate Limit Monitoring Diagram</h2> <pre class="mermaid"><code>flowchart TD
    TrackAPI["Track API Request"] --&gt; ResetPeriod["Reset Period Elapsed?"]
    ResetPeriod -- Yes --&gt; ResetCounters["Reset Counters"]
    ResetCounters --&gt; IncrementCounters["Increment Counters"]
    TrackAPI --&gt; IncrementCounters
    IncrementCounters --&gt; ApproachingLimit["Approaching Limit?"]
    ApproachingLimit -- Yes --&gt; LogWarning["Log Warning\nPrepare Fallback"]
    ApproachingLimit -- No --&gt; ContinueNormal["Continue Normal Operation"]</code></pre> <h2 id="105-recovery-detection-process">10.5 Recovery Detection Process</h2> <pre class="mermaid"><code>flowchart TD
    Unavailable["Service Unavailable"] --&gt; HealthCheck["Periodic Health Check"]
    HealthCheck --&gt; Recovered["Service Recovered?"]
    Recovered -- No --&gt; ContinueFallback["Continue Using Fallback"]
    Recovered -- Yes --&gt; LogRecovery["Log Recovery\nUpdate Status"]
    LogRecovery --&gt; ResumePreferred["Resume Using Preferred Service"]</code></pre> <h2 id="106-user-experience-flow">10.6 User Experience Flow</h2> <pre class="mermaid"><code>flowchart TD
    UserQuery["User Submits Query"] --&gt; FrontendProcess["Frontend Processes Input"]
    FrontendProcess --&gt; APIRequest["API Request to Server"]
    APIRequest --&gt; ServerAvailable["Server Available?"]
    ServerAvailable -- No --&gt; ClientFallback["Client-side Fallback Activated"]
    ClientFallback --&gt; ShowError["Show Error Message with Limited Mode"]
    ServerAvailable -- Yes --&gt; UsingFallback["Service Using Fallback?"]
    UsingFallback -- Yes --&gt; NotifyUser["Notify User of Service Limitations"]
    UsingFallback -- No --&gt; NormalResponse["Normal Response Processing"]</code></pre> <h2 id="107-c4-context-diagram">10.7 C4 Context Diagram</h2> <pre class="mermaid"><code>C4Context
    title System Context diagram for Opossum Search

    Person(user, "User", "A user of the Opossum Search system")

    Enterprise_Boundary(b0, "Opossum Search System") {
        System(searchSystem, "Opossum Search System", "Provides search functionality with multiple model providers")

        System_Ext(geminiAPI, "Gemini API", "External large language model provider")
        System_Ext(ollamaSystem, "Ollama", "Local large language model hosting")
        System_Ext(transformersLib, "Transformers", "Local machine learning library")
    }

    Rel(user, searchSystem, "Submits search queries to")
    Rel(searchSystem, geminiAPI, "Uses for processing when available")
    Rel(searchSystem, ollamaSystem, "Falls back to when Gemini is unavailable")
    Rel(searchSystem, transformersLib, "Uses as final fallback option")</code></pre> </div> </div><footer> <div aria-label="Footer Navigation" class="rst-footer-buttons" role="navigation"> <a class="btn btn-neutral float-left" href="../testing-validation/" title="Testing and Validation"><span class="icon icon-circle-arrow-left"></span> Previous</a> </div> <hr/> <div role="contentinfo"> <!-- Copyright etc --> </div> Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. </footer> </div> </div> </section> </div> <div aria-label="Versions" class="rst-versions" role="note"> <span class="rst-current-version" data-toggle="rst-current-version"> <span><a href="../testing-validation/" style="color: #fcfcfc">Â« Previous</a></span> </span> </div> <script src="../../js/jquery-3.6.0.min.js"></script> <script>var base_url = "../..";</script> <script src="../../js/theme_extra.js"></script> <script src="../../js/theme.js"></script> <script src="../../search/main.js"></script> <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script> </body> </html> 