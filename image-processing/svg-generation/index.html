<!DOCTYPE html>
<html class="writer-html5" lang="en"> <head><meta charset="utf-8"/><meta content="IE=edge" http-equiv="X-UA-Compatible"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="bebo" name="author"/><link href="../../img/favicon.ico" rel="shortcut icon"/><title>SVG Generation - Opossum Search Documentation</title><link href="../../css/theme.css" rel="stylesheet"/><link href="../../css/theme_extra.css" rel="stylesheet"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" rel="stylesheet"/><link href="../../assets/_mkdocstrings.css" rel="stylesheet"/><link href="../../stylesheets/extra.css" rel="stylesheet"/><script>
        // Current page data
        var mkdocs_page_name = "SVG Generation";
        var mkdocs_page_input_path = "image-processing\\svg-generation.md";
        var mkdocs_page_url = null;
      </script><!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]--><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script><script>hljs.highlightAll();</script></head> <body class="wy-body-for-nav" role="document"> <div class="wy-grid-for-nav"> <nav class="wy-nav-side stickynav" data-toggle="wy-nav-shift"> <div class="wy-side-scroll"> <div class="wy-side-nav-search"> <a class="icon icon-home" href="../.."> Opossum Search Documentation </a><div role="search"> <form action="../../search.html" class="wy-form" id="rtd-search-form" method="get"> <input aria-label="Search docs" name="q" placeholder="Search docs" title="Type search term here" type="text"/> </form> </div> </div> <div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation"> <ul> <li class="toctree-l1"><a class="reference internal" href="../..">Home</a> </li> </ul> <p class="caption"><span class="caption-text">Getting Started</span></p> <ul> <li class="toctree-l1"><a class="reference internal" href="../../technical/getting-started/">First Steps</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../technical/system-architecture-overview/">System Overview</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../api/getting-started/">API Reference</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../technical/devops-guide/">Developer Quickstart</a> </li> </ul> <p class="caption"><span class="caption-text">Core Components</span></p> <ul> <li class="toctree-l1"><a class="reference internal">Architecture</a> <ul> <li class="toctree-l2"><a class="reference internal" href="../../technical/system-architecture-overview/">System Overview</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../technical/graphql-api/">GraphQL API</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../technical/security-model/">Security Model</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../technical/prompt-management/">Prompt Management</a> </li> </ul> </li> <li class="toctree-l1"><a class="reference internal">Model Integration</a> <ul> <li class="toctree-l2"><a class="reference internal" href="../../model-integration/architecture/">Architecture</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../model-integration/backend-selection/">Backend Selection</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../model-integration/capability-matrix/">Capability Matrix</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../model-integration/providers/">Provider Integration</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../model-integration/configuration/">Configuration</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../technical/hybrid-model-selection/">Hybrid Selection</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../technical/prompt-management/">Prompt Management</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../model-integration/dspy-integration/">DSPy Integration</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../model-integration/dspy-technical/">DSPy Technical Implementation</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../model-integration/dspy-examples/">DSPy Usage Examples</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../model-integration/dspy-metrics/">DSPy Metrics &amp; Performance</a> </li> </ul> </li> <li class="toctree-l1"><a class="reference internal">Service Availability</a> <ul> <li class="toctree-l2"><a class="reference internal" href="../../service-availability/context-and-scope/">Context and Scope</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../service-availability/quality-requirements/">Quality Requirements</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../service-availability/architecture-constraints/">Architecture Constraints</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../service-availability/availability-monitoring/">Availability Monitoring</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../service-availability/service-outage/">Error Handling</a> </li> </ul> </li> <li class="toctree-l1"><a class="reference internal">Resilience Patterns</a> <ul> <li class="toctree-l2"><a class="reference internal" href="../../technical/resilience-patterns/">Core Strategies</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../technical/error-handling-resilience/">Error Handling</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../service-availability/rate-limiting-throttling/">Rate Limiting</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../service-availability/log-alerts/">Logging and Alerts</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../service-availability/testing-validation/">Testing and Validation</a> </li> </ul> </li> </ul> <p class="caption"><span class="caption-text">Features</span></p> <ul class="current"> <li class="toctree-l1"><a class="reference internal">Conversation</a> <ul> <li class="toctree-l2"><a class="reference internal" href="../../conversation/topic-detection/">Topic Detection</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../conversation/conversation-flow/">Conversation Flow</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../conversation/response-generation/">Response Generation</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../conversation/nlp-components/">NLP Components</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../conversation/markov-generation/">Markov Generation</a> </li> </ul> </li> <li class="toctree-l1 current"><a class="reference internal current">Image Processing</a> <ul class="current"> <li class="toctree-l2"><a class="reference internal" href="../overview/">Overview</a> </li> <li class="toctree-l2"><a class="reference internal" href="../effects/">Effects and Filters</a> </li> <li class="toctree-l2 current"><a class="reference internal current" href="#">SVG Generation</a> <ul class="current"> <li class="toctree-l3"><a class="reference internal" href="#overview-of-svg-generation-approaches">Overview of SVG Generation Approaches</a> </li> <li class="toctree-l3"><a class="reference internal" href="#core-capabilities">Core Capabilities</a> <ul> <li class="toctree-l4"><a class="reference internal" href="#raster-to-vector-conversion">Raster to Vector Conversion</a> </li> <li class="toctree-l4"><a class="reference internal" href="#data-visualization-generation">Data Visualization Generation</a> </li> <li class="toctree-l4"><a class="reference internal" href="#interactive-elements">Interactive Elements</a> </li> </ul> </li> <li class="toctree-l3"><a class="reference internal" href="#implementation-architecture">Implementation Architecture</a> </li> <li class="toctree-l3"><a class="reference internal" href="#1-native-template-system">1. Native Template System</a> <ul> <li class="toctree-l4"><a class="reference internal" href="#available-visualization-types">Available Visualization Types</a> </li> <li class="toctree-l4"><a class="reference internal" href="#implementation">Implementation</a> </li> <li class="toctree-l4"><a class="reference internal" href="#benefits">Benefits</a> </li> <li class="toctree-l4"><a class="reference internal" href="#use-cases">Use Cases</a> </li> <li class="toctree-l4"><a class="reference internal" href="#data-visualization-example">Data Visualization Example</a> </li> <li class="toctree-l4"><a class="reference internal" href="#template-based-generation">Template-Based Generation</a> </li> </ul> </li> <li class="toctree-l3"><a class="reference internal" href="#2-chat2svg-integration">2. Chat2SVG Integration</a> <ul> <li class="toctree-l4"><a class="reference internal" href="#how-chat2svg-works">How Chat2SVG Works</a> </li> <li class="toctree-l4"><a class="reference internal" href="#model-quantization">Model Quantization</a> </li> <li class="toctree-l4"><a class="reference internal" href="#implementation_1">Implementation</a> </li> <li class="toctree-l4"><a class="reference internal" href="#configuration-options">Configuration Options</a> </li> <li class="toctree-l4"><a class="reference internal" href="#benefits_1">Benefits</a> </li> <li class="toctree-l4"><a class="reference internal" href="#use-cases_1">Use Cases</a> </li> <li class="toctree-l4"><a class="reference internal" href="#graphql-api-usage">GraphQL API Usage</a> </li> </ul> </li> <li class="toctree-l3"><a class="reference internal" href="#decision-guidelines">Decision Guidelines</a> <ul> <li class="toctree-l4"><a class="reference internal" href="#use-the-native-template-system-when">Use the Native Template System when:</a> </li> <li class="toctree-l4"><a class="reference internal" href="#use-chat2svg-when">Use Chat2SVG when:</a> </li> <li class="toctree-l4"><a class="reference internal" href="#hybrid-approach">Hybrid Approach</a> </li> </ul> </li> <li class="toctree-l3"><a class="reference internal" href="#technical-details">Technical Details</a> <ul> <li class="toctree-l4"><a class="reference internal" href="#advanced-techniques">Advanced Techniques</a> </li> <li class="toctree-l4"><a class="reference internal" href="#optimization-techniques">Optimization Techniques</a> </li> <li class="toctree-l4"><a class="reference internal" href="#fallback-mechanism">Fallback Mechanism</a> </li> <li class="toctree-l4"><a class="reference internal" href="#caching">Caching</a> </li> <li class="toctree-l4"><a class="reference internal" href="#performance-considerations">Performance Considerations</a> </li> <li class="toctree-l4"><a class="reference internal" href="#file-size-implications">File Size Implications</a> </li> <li class="toctree-l4"><a class="reference internal" href="#browser-compatibility">Browser Compatibility</a> </li> </ul> </li> <li class="toctree-l3"><a class="reference internal" href="#special-feature-national-opossum-day">Special Feature: National Opossum Day</a> </li> <li class="toctree-l3"><a class="reference internal" href="#future-enhancements">Future Enhancements</a> </li> <li class="toctree-l3"><a class="reference internal" href="#appendix-svg-optimization-results">Appendix: SVG Optimization Results</a> </li> <li class="toctree-l3"><a class="reference internal" href="#related-documentation">Related Documentation</a> </li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="../optimization/">Performance Optimization</a> </li> <li class="toctree-l2"><a class="reference internal" href="../caching/">Caching Strategy</a> </li> </ul> </li> <li class="toctree-l1"><a class="reference internal">Visualizations &amp; Fun</a> <ul> <li class="toctree-l2"><a class="reference internal" href="../../features/service-vizualizations/">Service Visualizations</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../features/national-day/">National Opossum Day</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../features/easter-eggs/">Easter Eggs</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../features/special-events/">Special Events</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../features/background-stories/">Background Stories</a> </li> </ul> </li> </ul> <p class="caption"><span class="caption-text">Technical Reference</span></p> <ul> <li class="toctree-l1"><a class="reference internal">Infrastructure</a> <ul> <li class="toctree-l2"><a class="reference internal" href="../../technical/redis-caching-architecture/">Redis Caching</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../technical/image-processing-pipeline/">Image Pipeline</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../technical/opentelemetry-integration/">OpenTelemetry</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../technical/svg-markup/">SVG Markup</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../technical/bot-user-simulation/">Bot User Simulation</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../infrastructure/optimization-strategies/">Optimization Strategies</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../infrastructure/pipeline-optimization/">Pipeline Optimization</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../infrastructure/constraint-mapping/">Constraint Mapping</a> </li> </ul> </li> <li class="toctree-l1"><a class="reference internal">API Documentation</a> <ul> <li class="toctree-l2"><a class="reference internal" href="../../api/routes/">Routes</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../api/request-response/">Request/Response</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../api/oauth-configuration/">OAuth Configuration</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../api/error-codes/">Error Codes</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../api/rate-limits/">Rate Limits</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../api/webhooks/">Webhook Integration</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../api/health-endpoints/">Health Endpoints</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../api/compliance/">Compliance</a> </li> </ul> </li> <li class="toctree-l1"><a class="reference internal">DSPy Tutorials</a> <ul> <li class="toctree-l2"><a class="reference internal" href="../../tutorials/dspy/getting-started/">Getting Started with DSPy</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../tutorials/dspy/optimizing-prompts/">Optimizing Prompts</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../tutorials/dspy/building-pipelines/">Building Pipelines</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../tutorials/dspy/advanced-reasoning/">Advanced Reasoning</a> </li> </ul> </li> </ul> <p class="caption"><span class="caption-text">About</span></p> <ul> <li class="toctree-l1"><a class="reference internal" href="../../about/history/">Project History</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../about/team/">Team</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../about/roadmap/">Roadmap</a> </li> </ul> </div> </div> </nav> <section class="wy-nav-content-wrap" data-toggle="wy-nav-shift"> <nav aria-label="Mobile navigation menu" class="wy-nav-top" role="navigation"> <i class="fa fa-bars" data-toggle="wy-nav-top"></i> <a href="../..">Opossum Search Documentation</a> </nav> <div class="wy-nav-content"> <div class="rst-content"><div aria-label="breadcrumbs navigation" role="navigation"> <ul class="wy-breadcrumbs"> <li><a aria-label="Docs" class="icon icon-home" href="../.."></a></li> <li class="breadcrumb-item">Features</li> <li class="breadcrumb-item">Image Processing</li> <li class="breadcrumb-item active">SVG Generation</li> <li class="wy-breadcrumbs-aside"> </li> </ul> <hr/> </div> <div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main"> <div class="section" itemprop="articleBody"> <h1 id="svg-generation">SVG Generation<a class="headerlink" href="#svg-generation" title="Permanent link">¶</a></h1> <p>Opossum Search provides a sophisticated SVG (Scalable Vector Graphics) generation system that combines two complementary approaches: a native template-based system and an AI-powered Chat2SVG integration. This document explains both systems, their technical capabilities, and guidelines for when to use each approach.</p> <h2 id="overview-of-svg-generation-approaches">Overview of SVG Generation Approaches<a class="headerlink" href="#overview-of-svg-generation-approaches" title="Permanent link">¶</a></h2> <table> <thead> <tr> <th>Feature</th> <th>Native Template System</th> <th>Chat2SVG Integration</th> </tr> </thead> <tbody> <tr> <td>Primary Use Case</td> <td>Operational visualizations &amp; dashboards</td> <td>Creative, custom imagery</td> </tr> <tr> <td>Source of Intelligence</td> <td>Predefined templates with data binding</td> <td>Three-stage AI pipeline with LLMs and diffusion models</td> </tr> <tr> <td>Response Time</td> <td>Fast (milliseconds)</td> <td>Slower (seconds)</td> </tr> <tr> <td>Resource Usage</td> <td>Very low</td> <td>Higher (especially with detail enhancement)</td> </tr> <tr> <td>Customization</td> <td>Limited to template parameters</td> <td>Open-ended text-to-image generation</td> </tr> <tr> <td>Offline Capability</td> <td>Full support</td> <td>Depends on configuration</td> </tr> <tr> <td>Reliability</td> <td>Very high</td> <td>Depends on model availability</td> </tr> </tbody> </table> <h2 id="core-capabilities">Core Capabilities<a class="headerlink" href="#core-capabilities" title="Permanent link">¶</a></h2> <h3 id="raster-to-vector-conversion">Raster to Vector Conversion<a class="headerlink" href="#raster-to-vector-conversion" title="Permanent link">¶</a></h3> <p>The system transforms bitmap images into scalable vector graphics through multiple techniques:</p> <table> <thead> <tr> <th>Conversion Method</th> <th>Best For</th> <th>Accuracy</th> <th>Performance Cost</th> </tr> </thead> <tbody> <tr> <td>Contour Tracing</td> <td>Simple shapes, logos</td> <td>High</td> <td>Low-Medium</td> </tr> <tr> <td>Color Quantization</td> <td>Illustrations, cartoons</td> <td>Medium-High</td> <td>Medium</td> </tr> <tr> <td>Path Simplification</td> <td>Complex photographs</td> <td>Medium</td> <td>High</td> </tr> <tr> <td>Neural Vectorization</td> <td>Photographs, complex images</td> <td>Very High</td> <td>Extreme</td> </tr> </tbody> </table> <h3 id="data-visualization-generation">Data Visualization Generation<a class="headerlink" href="#data-visualization-generation" title="Permanent link">¶</a></h3> <p>The SVG generator creates various data visualizations from structured input:</p> <ul> <li><strong>Charts</strong>: Bar, line, area, pie, radar, and scatter plots</li> <li><strong>Diagrams</strong>: Flow charts, network diagrams, tree structures</li> <li><strong>Maps</strong>: Choropleth, bubble, and heatmap visualizations</li> <li><strong>Custom Visualizations</strong>: Domain-specific visual representations</li> <li><strong>Dashboards</strong>: Multi-component interactive displays</li> </ul> <h3 id="interactive-elements">Interactive Elements<a class="headerlink" href="#interactive-elements" title="Permanent link">¶</a></h3> <p>SVG output can include interactive capabilities:</p> <ul> <li><strong>Hover Effects</strong>: Visual feedback on element hovering</li> <li><strong>Click Actions</strong>: Interaction with individual SVG components</li> <li><strong>Animations</strong>: SMIL and CSS-based transitions and effects</li> <li><strong>Zoom and Pan</strong>: Navigation within complex visualizations</li> <li><strong>Tooltips</strong>: Contextual information displays</li> </ul> <h2 id="implementation-architecture">Implementation Architecture<a class="headerlink" href="#implementation-architecture" title="Permanent link">¶</a></h2> <pre class="mermaid"><code>graph TB
    A[Input Source] --&gt; B{Source Type}
    B --&gt;|Raster Image| C[Image Processor]
    B --&gt;|Data Structure| D[Visualization Engine]
    B --&gt;|SVG Template| E[Template Processor]
    B --&gt;|Text Prompt| F[Chat2SVG]

    C --&gt; G[Trace Engine]
    G --&gt; H[Path Optimizer]

    D --&gt; I[Layout Engine]
    I --&gt; J[Element Generator]

    E --&gt; K[Binding Engine]
    K --&gt; L[Template Renderer]

    F --&gt; M[Template Generation]
    M --&gt; N[Detail Enhancement]
    N --&gt; O[SVG Optimization]

    H --&gt; P[SVG Composer]
    J --&gt; P
    L --&gt; P
    O --&gt; P

    P --&gt; Q[Optimizer]
    Q --&gt; R[Output Generator]</code></pre> <h2 id="1-native-template-system">1. Native Template System<a class="headerlink" href="#1-native-template-system" title="Permanent link">¶</a></h2> <p>The native SVG generation system uses predefined templates with data binding to create operational visualizations.</p> <h3 id="available-visualization-types">Available Visualization Types<a class="headerlink" href="#available-visualization-types" title="Permanent link">¶</a></h3> <ul> <li><strong>Service Status</strong> - Real-time dashboard of service availability</li> <li><strong>Failover Process</strong> - Diagram showing the failover flow when services become unavailable</li> <li><strong>Capability Degradation</strong> - Visualization of capability levels across different service states</li> </ul> <h3 id="implementation">Implementation<a class="headerlink" href="#implementation" title="Permanent link">¶</a></h3> <p>The native system uses a simple, efficient approach:</p> <div class="highlight"><pre><span></span><code><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="c1">// Example of generating a service status visualization</span>
<a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">generateSVGVisualization</span><span class="p">(</span><span class="nx">svgType</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="s1">'/generate-svg'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="w">        </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">'POST'</span><span class="p">,</span>
<a href="#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">        </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'Content-Type'</span><span class="o">:</span><span class="w"> </span><span class="s1">'application/json'</span><span class="w"> </span><span class="p">},</span>
<a href="#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="w">        </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
<a href="#__codelineno-0-7" id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nx">svgType</span><span class="p">,</span>
<a href="#__codelineno-0-8" id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="w">            </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="c1">// Populated with real-time data</span>
<a href="#__codelineno-0-9" id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="w">        </span><span class="p">})</span>
<a href="#__codelineno-0-10" id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="w">    </span><span class="p">});</span>
<a href="#__codelineno-0-11" id="__codelineno-0-11" name="__codelineno-0-11"></a>
<a href="#__codelineno-0-12" id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<a href="#__codelineno-0-13" id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="w">    </span><span class="nx">addSVGMessage</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">svg_content</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">base64_image</span><span class="p">);</span>
<a href="#__codelineno-0-14" id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="p">}</span>
</code></pre></div> <h3 id="benefits">Benefits<a class="headerlink" href="#benefits" title="Permanent link">¶</a></h3> <ul> <li><strong>Speed</strong> - Generates visualizations in milliseconds</li> <li><strong>Reliability</strong> - No dependency on external AI services</li> <li><strong>Consistency</strong> - Predictable output format every time</li> <li><strong>Resource Efficiency</strong> - Minimal CPU and memory usage</li> </ul> <h3 id="use-cases">Use Cases<a class="headerlink" href="#use-cases" title="Permanent link">¶</a></h3> <ul> <li>Real-time operational dashboards</li> <li>System status visualizations</li> <li>Process flow diagrams</li> <li>Error state illustrations</li> <li>Easter egg visuals for special features</li> </ul> <h3 id="data-visualization-example">Data Visualization Example<a class="headerlink" href="#data-visualization-example" title="Permanent link">¶</a></h3> <div class="highlight"><pre><span></span><code><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">opossum.svg</span><span class="w"> </span><span class="kn">import</span> <span class="n">ChartGenerator</span>
<a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a>
<a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="c1"># Create chart data</span>
<a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
<a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a>    <span class="p">{</span><span class="s1">'month'</span><span class="p">:</span> <span class="s1">'Jan'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">:</span> <span class="mi">42</span><span class="p">},</span>
<a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a>    <span class="p">{</span><span class="s1">'month'</span><span class="p">:</span> <span class="s1">'Feb'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">:</span> <span class="mi">56</span><span class="p">},</span>
<a href="#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a>    <span class="p">{</span><span class="s1">'month'</span><span class="p">:</span> <span class="s1">'Mar'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">:</span> <span class="mi">35</span><span class="p">},</span>
<a href="#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a>    <span class="p">{</span><span class="s1">'month'</span><span class="p">:</span> <span class="s1">'Apr'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">:</span> <span class="mi">68</span><span class="p">},</span>
<a href="#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a>    <span class="p">{</span><span class="s1">'month'</span><span class="p">:</span> <span class="s1">'May'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">:</span> <span class="mi">89</span><span class="p">}</span>
<a href="#__codelineno-1-10" id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="p">]</span>
<a href="#__codelineno-1-11" id="__codelineno-1-11" name="__codelineno-1-11"></a>
<a href="#__codelineno-1-12" id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="c1"># Generate bar chart</span>
<a href="#__codelineno-1-13" id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="n">chart</span> <span class="o">=</span> <span class="n">ChartGenerator</span><span class="o">.</span><span class="n">bar_chart</span><span class="p">(</span>
<a href="#__codelineno-1-14" id="__codelineno-1-14" name="__codelineno-1-14"></a>    <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> 
<a href="#__codelineno-1-15" id="__codelineno-1-15" name="__codelineno-1-15"></a>    <span class="n">x_key</span><span class="o">=</span><span class="s1">'month'</span><span class="p">,</span>
<a href="#__codelineno-1-16" id="__codelineno-1-16" name="__codelineno-1-16"></a>    <span class="n">y_key</span><span class="o">=</span><span class="s1">'value'</span><span class="p">,</span>
<a href="#__codelineno-1-17" id="__codelineno-1-17" name="__codelineno-1-17"></a>    <span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span>
<a href="#__codelineno-1-18" id="__codelineno-1-18" name="__codelineno-1-18"></a>    <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
<a href="#__codelineno-1-19" id="__codelineno-1-19" name="__codelineno-1-19"></a>    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">'#4285F4'</span><span class="p">,</span> <span class="s1">'#34A853'</span><span class="p">,</span> <span class="s1">'#FBBC05'</span><span class="p">,</span> <span class="s1">'#EA4335'</span><span class="p">,</span> <span class="s1">'#8142F4'</span><span class="p">],</span>
<a href="#__codelineno-1-20" id="__codelineno-1-20" name="__codelineno-1-20"></a>    <span class="n">title</span><span class="o">=</span><span class="s1">'Monthly Performance'</span><span class="p">,</span>
<a href="#__codelineno-1-21" id="__codelineno-1-21" name="__codelineno-1-21"></a>    <span class="n">animate</span><span class="o">=</span><span class="kc">True</span>
<a href="#__codelineno-1-22" id="__codelineno-1-22" name="__codelineno-1-22"></a><span class="p">)</span>
<a href="#__codelineno-1-23" id="__codelineno-1-23" name="__codelineno-1-23"></a>
<a href="#__codelineno-1-24" id="__codelineno-1-24" name="__codelineno-1-24"></a><span class="c1"># Get SVG string</span>
<a href="#__codelineno-1-25" id="__codelineno-1-25" name="__codelineno-1-25"></a><span class="n">svg_content</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">to_svg</span><span class="p">()</span>
</code></pre></div> <h3 id="template-based-generation">Template-Based Generation<a class="headerlink" href="#template-based-generation" title="Permanent link">¶</a></h3> <div class="highlight"><pre><span></span><code><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">opossum.svg</span><span class="w"> </span><span class="kn">import</span> <span class="n">TemplateRenderer</span>
<a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a>
<a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="c1"># Define data for template</span>
<a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<a href="#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a>    <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'System Status'</span><span class="p">,</span>
<a href="#__codelineno-2-6" id="__codelineno-2-6" name="__codelineno-2-6"></a>    <span class="s1">'components'</span><span class="p">:</span> <span class="p">[</span>
<a href="#__codelineno-2-7" id="__codelineno-2-7" name="__codelineno-2-7"></a>        <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span> <span class="s1">'API'</span><span class="p">,</span> <span class="s1">'status'</span><span class="p">:</span> <span class="s1">'healthy'</span><span class="p">,</span> <span class="s1">'uptime'</span><span class="p">:</span> <span class="mf">99.98</span><span class="p">},</span>
<a href="#__codelineno-2-8" id="__codelineno-2-8" name="__codelineno-2-8"></a>        <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Database'</span><span class="p">,</span> <span class="s1">'status'</span><span class="p">:</span> <span class="s1">'degraded'</span><span class="p">,</span> <span class="s1">'uptime'</span><span class="p">:</span> <span class="mf">98.5</span><span class="p">},</span>
<a href="#__codelineno-2-9" id="__codelineno-2-9" name="__codelineno-2-9"></a>        <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Cache'</span><span class="p">,</span> <span class="s1">'status'</span><span class="p">:</span> <span class="s1">'healthy'</span><span class="p">,</span> <span class="s1">'uptime'</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">}</span>
<a href="#__codelineno-2-10" id="__codelineno-2-10" name="__codelineno-2-10"></a>    <span class="p">],</span>
<a href="#__codelineno-2-11" id="__codelineno-2-11" name="__codelineno-2-11"></a>    <span class="s1">'last_updated'</span><span class="p">:</span> <span class="s1">'2023-03-15T14:32:45Z'</span>
<a href="#__codelineno-2-12" id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="p">}</span>
<a href="#__codelineno-2-13" id="__codelineno-2-13" name="__codelineno-2-13"></a>
<a href="#__codelineno-2-14" id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="c1"># Render template with data</span>
<a href="#__codelineno-2-15" id="__codelineno-2-15" name="__codelineno-2-15"></a><span class="n">renderer</span> <span class="o">=</span> <span class="n">TemplateRenderer</span><span class="p">()</span>
<a href="#__codelineno-2-16" id="__codelineno-2-16" name="__codelineno-2-16"></a><span class="n">svg_content</span> <span class="o">=</span> <span class="n">renderer</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
<a href="#__codelineno-2-17" id="__codelineno-2-17" name="__codelineno-2-17"></a>    <span class="n">template_name</span><span class="o">=</span><span class="s1">'system_status'</span><span class="p">,</span>
<a href="#__codelineno-2-18" id="__codelineno-2-18" name="__codelineno-2-18"></a>    <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
<a href="#__codelineno-2-19" id="__codelineno-2-19" name="__codelineno-2-19"></a>    <span class="n">options</span><span class="o">=</span><span class="p">{</span><span class="s1">'width'</span><span class="p">:</span> <span class="mi">600</span><span class="p">,</span> <span class="s1">'height'</span><span class="p">:</span> <span class="mi">300</span><span class="p">}</span>
<a href="#__codelineno-2-20" id="__codelineno-2-20" name="__codelineno-2-20"></a><span class="p">)</span>
</code></pre></div> <h2 id="2-chat2svg-integration">2. Chat2SVG Integration<a class="headerlink" href="#2-chat2svg-integration" title="Permanent link">¶</a></h2> <p>The Chat2SVG integration uses a sophisticated AI pipeline to generate custom vector graphics from text descriptions.</p> <h3 id="how-chat2svg-works">How Chat2SVG Works<a class="headerlink" href="#how-chat2svg-works" title="Permanent link">¶</a></h3> <p>The system uses a three-stage pipeline:</p> <ol> <li><strong>Template Generation</strong> - Uses large language models to create initial SVG templates</li> <li><strong>Detail Enhancement</strong> - Leverages image diffusion models to add visual details (optional)</li> <li><strong>SVG Optimization</strong> - Optimizes vector paths using VAE models</li> </ol> <h3 id="model-quantization">Model Quantization<a class="headerlink" href="#model-quantization" title="Permanent link">¶</a></h3> <p>To optimize performance and memory usage, Opossum Search supports model quantization for Chat2SVG:</p> <h4 id="quantization-options">Quantization Options<a class="headerlink" href="#quantization-options" title="Permanent link">¶</a></h4> <table> <thead> <tr> <th>Precision</th> <th>Description</th> <th>Memory Reduction</th> <th>Quality Impact</th> </tr> </thead> <tbody> <tr> <td><code>fp32</code></td> <td>Full precision (32-bit)</td> <td>1.0x (baseline)</td> <td>None</td> </tr> <tr> <td><code>fp16</code></td> <td>Half precision (16-bit)</td> <td>0.5x (50% reduction)</td> <td>Very Low</td> </tr> <tr> <td><code>int8</code></td> <td>8-bit integer quantization</td> <td>0.25x (75% reduction)</td> <td>Low</td> </tr> </tbody> </table> <h4 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">¶</a></h4> <p>Model quantization can be configured through environment variables or the config file:</p> <div class="highlight"><pre><span></span><code><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="c1"># Production configuration example (in config.py)</span>
<a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="n">MODEL_QUANTIZATION_ENABLED</span> <span class="o">=</span> <span class="kc">True</span>
<a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="n">MODEL_QUANTIZATION_PRECISION</span> <span class="o">=</span> <span class="s2">"int8"</span>  <span class="c1"># fp32, fp16, int8</span>
<a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="n">CHAT2SVG_QUANTIZE_MODELS</span> <span class="o">=</span> <span class="kc">True</span>
<a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="n">CHAT2SVG_QUANTIZATION_PRECISION</span> <span class="o">=</span> <span class="s2">"fp16"</span>
</code></pre></div> <h4 id="quantization-process">Quantization Process<a class="headerlink" href="#quantization-process" title="Permanent link">¶</a></h4> <p>The system includes a dedicated script (<code>scripts/quantize_models.py</code>) that automatically:</p> <ol> <li>Converts Transformers models to optimized ONNX format</li> <li>Quantizes Chat2SVG PyTorch models to FP16 precision</li> <li>Validates the quantized models</li> <li>Configures the application to use the optimized models</li> </ol> <p>This process runs during container startup or can be triggered manually:</p> <div class="highlight"><pre><span></span><code><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="c1"># Run quantization manually</span>
<a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a>python<span class="w"> </span>scripts/quantize_models.py<span class="w"> </span>--precision<span class="w"> </span>int8
</code></pre></div> <h4 id="benefits-of-quantization">Benefits of Quantization<a class="headerlink" href="#benefits-of-quantization" title="Permanent link">¶</a></h4> <ul> <li><strong>Reduced Memory Usage</strong>: Up to 75% memory reduction with INT8 quantization</li> <li><strong>Faster Inference</strong>: Potential speedup, especially on hardware with INT8 support</li> <li><strong>Container Optimization</strong>: Smaller memory footprint in containerized deployments</li> <li><strong>Consistent Performance</strong>: Predictable memory usage across different environments</li> </ul> <h3 id="implementation_1">Implementation<a class="headerlink" href="#implementation_1" title="Permanent link">¶</a></h3> <div class="highlight"><pre><span></span><code><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">generateTextToSVG</span><span class="p">(</span><span class="nx">prompt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">mutation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span>
<a href="#__codelineno-5-3" id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="sb">        mutation GenerateSVG($input: SVGGenerationInput!) {</span>
<a href="#__codelineno-5-4" id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="sb">            generate_svg(input: $input) {</span>
<a href="#__codelineno-5-5" id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="sb">                svg_content</span>
<a href="#__codelineno-5-6" id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="sb">                base64_image</span>
<a href="#__codelineno-5-7" id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="sb">                metadata</span>
<a href="#__codelineno-5-8" id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="sb">            }</span>
<a href="#__codelineno-5-9" id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="sb">        }</span>
<a href="#__codelineno-5-10" id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="sb">    `</span><span class="p">;</span>
<a href="#__codelineno-5-11" id="__codelineno-5-11" name="__codelineno-5-11"></a>
<a href="#__codelineno-5-12" id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">variables</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-5-13" id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="w">        </span><span class="nx">input</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-5-14" id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="w">            </span><span class="nx">prompt</span><span class="o">:</span><span class="w"> </span><span class="nx">prompt</span><span class="p">,</span>
<a href="#__codelineno-5-15" id="__codelineno-5-15" name="__codelineno-5-15"></a><span class="w">            </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="s2">"default"</span>
<a href="#__codelineno-5-16" id="__codelineno-5-16" name="__codelineno-5-16"></a><span class="w">        </span><span class="p">}</span>
<a href="#__codelineno-5-17" id="__codelineno-5-17" name="__codelineno-5-17"></a><span class="w">    </span><span class="p">};</span>
<a href="#__codelineno-5-18" id="__codelineno-5-18" name="__codelineno-5-18"></a>
<a href="#__codelineno-5-19" id="__codelineno-5-19" name="__codelineno-5-19"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">graphqlRequest</span><span class="p">(</span><span class="nx">mutation</span><span class="p">,</span><span class="w"> </span><span class="nx">variables</span><span class="p">);</span>
<a href="#__codelineno-5-20" id="__codelineno-5-20" name="__codelineno-5-20"></a><span class="w">    </span><span class="nx">addSVGMessage</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">generate_svg</span><span class="p">.</span><span class="nx">svg_content</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">generate_svg</span><span class="p">.</span><span class="nx">base64_image</span><span class="p">);</span>
<a href="#__codelineno-5-21" id="__codelineno-5-21" name="__codelineno-5-21"></a><span class="p">}</span>
</code></pre></div> <h3 id="configuration-options">Configuration Options<a class="headerlink" href="#configuration-options" title="Permanent link">¶</a></h3> <p>Configure Chat2SVG integration through environment variables:</p> <ul> <li><code>CHAT2SVG_ENABLED</code> - Enable/disable the Chat2SVG integration (default: true)</li> <li><code>CHAT2SVG_DETAIL_ENHANCEMENT</code> - Enable/disable the detail enhancement stage (default: false)</li> <li><code>CHAT2SVG_PATH</code> - Path to Chat2SVG installation</li> <li><code>CHAT2SVG_QUANTIZE_MODELS</code> - Enable model quantization (default: true)</li> <li><code>CHAT2SVG_QUANTIZATION_PRECISION</code> - Quantization precision (fp32, fp16, int8) (default: fp16)</li> </ul> <h3 id="benefits_1">Benefits<a class="headerlink" href="#benefits_1" title="Permanent link">¶</a></h3> <ul> <li><strong>Creative Freedom</strong> - Generate any concept described in natural language</li> <li><strong>Custom Imagery</strong> - Create unique, tailored visualizations</li> <li><strong>Artistic Styles</strong> - Support for various visual styles</li> <li><strong>Complex Scenes</strong> - Ability to generate intricate visual compositions</li> <li><strong>Resource-Aware</strong> - Adaptive resource usage with model quantization</li> </ul> <h3 id="use-cases_1">Use Cases<a class="headerlink" href="#use-cases_1" title="Permanent link">¶</a></h3> <ul> <li>Custom user-requested visualizations</li> <li>Decorative elements and illustrations</li> <li>Creative images for special events</li> <li>Visual explanations of complex concepts</li> <li>National Opossum Day special visualizations</li> </ul> <h3 id="graphql-api-usage">GraphQL API Usage<a class="headerlink" href="#graphql-api-usage" title="Permanent link">¶</a></h3> <div class="highlight"><pre><span></span><code><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="k">mutation</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="w">  </span><span class="n">generateSVG</span><span class="p">(</span>
<a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">    </span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-6-4" id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">      </span><span class="n">prompt</span><span class="p">:</span><span class="w"> </span><span class="s">"An opossum hanging from a tree branch under a full moon"</span><span class="p">,</span>
<a href="#__codelineno-6-5" id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="w">      </span><span class="n">style</span><span class="p">:</span><span class="w"> </span><span class="s">"minimalist"</span>
<a href="#__codelineno-6-6" id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-6-7" id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-6-8" id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="w">    </span><span class="n">svg_content</span>
<a href="#__codelineno-6-9" id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="w">    </span><span class="n">base64_image</span>
<a href="#__codelineno-6-10" id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="w">    </span><span class="n">metadata</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-6-11" id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="w">      </span><span class="n">generation_time</span>
<a href="#__codelineno-6-12" id="__codelineno-6-12" name="__codelineno-6-12"></a><span class="w">      </span><span class="n">resource_level</span>
<a href="#__codelineno-6-13" id="__codelineno-6-13" name="__codelineno-6-13"></a><span class="w">      </span><span class="n">quantization_level</span>
<a href="#__codelineno-6-14" id="__codelineno-6-14" name="__codelineno-6-14"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-6-15" id="__codelineno-6-15" name="__codelineno-6-15"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-6-16" id="__codelineno-6-16" name="__codelineno-6-16"></a><span class="p">}</span>
</code></pre></div> <h2 id="decision-guidelines">Decision Guidelines<a class="headerlink" href="#decision-guidelines" title="Permanent link">¶</a></h2> <h3 id="use-the-native-template-system-when">Use the Native Template System when:<a class="headerlink" href="#use-the-native-template-system-when" title="Permanent link">¶</a></h3> <ul> <li>You need <strong>operational visualizations</strong> with real-time data</li> <li><strong>Speed</strong> and <strong>reliability</strong> are critical</li> <li>You need <strong>consistent, predictable output</strong></li> <li>You're working with <strong>limited resources</strong></li> <li>The visualization is part of a <strong>critical system feature</strong></li> <li>You need high <strong>performance at scale</strong></li> </ul> <h3 id="use-chat2svg-when">Use Chat2SVG when:<a class="headerlink" href="#use-chat2svg-when" title="Permanent link">¶</a></h3> <ul> <li>You need <strong>creative, novel visualizations</strong></li> <li>The user has requested a <strong>specific visual concept</strong></li> <li>You want to generate <strong>illustrative examples</strong></li> <li>You're enhancing <strong>special features</strong> like National Opossum Day</li> <li><strong>Resource constraints</strong> are not a concern</li> <li>The request falls outside existing templates</li> </ul> <h3 id="hybrid-approach">Hybrid Approach<a class="headerlink" href="#hybrid-approach" title="Permanent link">¶</a></h3> <p>For optimal results, consider a hybrid approach:</p> <ol> <li>Use native templates for operational data visualization</li> <li>Use Chat2SVG for supplementary illustrations and unique requests</li> <li>Cache frequently requested Chat2SVG generations for performance</li> </ol> <h2 id="technical-details">Technical Details<a class="headerlink" href="#technical-details" title="Permanent link">¶</a></h2> <h3 id="advanced-techniques">Advanced Techniques<a class="headerlink" href="#advanced-techniques" title="Permanent link">¶</a></h3> <h4 id="image-vectorization-options">Image Vectorization Options<a class="headerlink" href="#image-vectorization-options" title="Permanent link">¶</a></h4> <p>The image vectorization engine provides several parameters to control the output:</p> <table> <thead> <tr> <th>Parameter</th> <th>Description</th> <th>Values</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>max_colors</code></td> <td>Maximum colors in output</td> <td>2-256</td> <td>16</td> </tr> <tr> <td><code>detail_level</code></td> <td>Level of detail to preserve</td> <td>'low', 'medium', 'high', 'ultra'</td> <td>'medium'</td> </tr> <tr> <td><code>smoothing</code></td> <td>Path smoothing factor</td> <td>0.0-1.0</td> <td>0.5</td> </tr> <tr> <td><code>min_path_length</code></td> <td>Minimum path length to include</td> <td>0-100 pixels</td> <td>5</td> </tr> <tr> <td><code>corner_threshold</code></td> <td>Angle for detecting corners</td> <td>10-170 degrees</td> <td>120</td> </tr> </tbody> </table> <h4 id="animation-options">Animation Options<a class="headerlink" href="#animation-options" title="Permanent link">¶</a></h4> <p>SVG animations can be configured with these parameters:</p> <table> <thead> <tr> <th>Parameter</th> <th>Description</th> <th>Values</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>animation_type</code></td> <td>Type of animation</td> <td>'fade', 'grow', 'slide', 'bounce', 'custom'</td> <td>'fade'</td> </tr> <tr> <td><code>duration</code></td> <td>Animation duration</td> <td>100-10000ms</td> <td>500</td> </tr> <tr> <td><code>delay</code></td> <td>Delay before animation starts</td> <td>0-10000ms</td> <td>0</td> </tr> <tr> <td><code>easing</code></td> <td>Easing function</td> <td>'linear', 'ease', 'ease-in', 'ease-out', 'ease-in-out'</td> <td>'ease'</td> </tr> <tr> <td><code>repeat_count</code></td> <td>Number of repetitions</td> <td>0-infinite</td> <td>1</td> </tr> </tbody> </table> <h3 id="optimization-techniques">Optimization Techniques<a class="headerlink" href="#optimization-techniques" title="Permanent link">¶</a></h3> <p>The SVG optimization engine improves output quality and file size:</p> <h4 id="size-optimization">Size Optimization<a class="headerlink" href="#size-optimization" title="Permanent link">¶</a></h4> <ul> <li><strong>Path Simplification</strong>: Reduces point count while maintaining shape</li> <li><strong>Decimal Precision</strong>: Truncates coordinates to necessary precision</li> <li><strong>SVGO Integration</strong>: Applies comprehensive optimization techniques</li> <li><strong>Attribute Minimization</strong>: Removes redundant or default attributes</li> <li><strong>ID Shortening</strong>: Reduces the length of internal IDs</li> </ul> <h4 id="rendering-optimization">Rendering Optimization<a class="headerlink" href="#rendering-optimization" title="Permanent link">¶</a></h4> <ul> <li><strong>Paint Order Adjustment</strong>: Optimizes rendering order for performance</li> <li><strong>Text to Path Conversion</strong>: Ensures consistent display without fonts</li> <li><strong>Gradient Simplification</strong>: Simplifies complex gradients</li> <li><strong>Filter Effect Optimization</strong>: Streamlines filter definitions</li> <li><strong>View Box Normalization</strong>: Standardizes coordinate systems</li> </ul> <h3 id="fallback-mechanism">Fallback Mechanism<a class="headerlink" href="#fallback-mechanism" title="Permanent link">¶</a></h3> <p>If Chat2SVG fails or is unavailable, the system automatically falls back to a simpler template:</p> <div class="highlight"><pre><span></span><code><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">_fallback_svg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a href="#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="w">    </span><span class="sd">"""Generate a simple fallback SVG when the main pipeline fails."""</span>
<a href="#__codelineno-7-3" id="__codelineno-7-3" name="__codelineno-7-3"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">"""</span>
<a href="#__codelineno-7-4" id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="s2">    &lt;svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"&gt;</span>
<a href="#__codelineno-7-5" id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="s2">        &lt;!-- Fallback SVG for: </span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="s2"> --&gt;</span>
<a href="#__codelineno-7-6" id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="s2">        &lt;rect x="50" y="50" width="412" height="412" fill="#f8f8f8" stroke="#ccc" stroke-width="2" /&gt;</span>
<a href="#__codelineno-7-7" id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="s2">        &lt;text x="256" y="236" text-anchor="middle" font-size="24" fill="#333"&gt;SVG Generation&lt;/text&gt;</span>
<a href="#__codelineno-7-8" id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="s2">        &lt;text x="256" y="276" text-anchor="middle" font-size="18" fill="#666"&gt;"</span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="s2">"&lt;/text&gt;</span>
<a href="#__codelineno-7-9" id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="s2">    &lt;/svg&gt;</span>
<a href="#__codelineno-7-10" id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="s2">    """</span>
</code></pre></div> <h3 id="caching">Caching<a class="headerlink" href="#caching" title="Permanent link">¶</a></h3> <p>Both systems implement caching to improve performance:</p> <ul> <li>Native templates cache visualizations for 5 minutes</li> <li>Chat2SVG generations are cached for 1 hour</li> </ul> <h3 id="performance-considerations">Performance Considerations<a class="headerlink" href="#performance-considerations" title="Permanent link">¶</a></h3> <table> <thead> <tr> <th>Operation</th> <th>Small Image (&lt;500px)</th> <th>Medium Image (500-1500px)</th> <th>Large Image (&gt;1500px)</th> </tr> </thead> <tbody> <tr> <td>Native Template Rendering</td> <td>0.1-0.2s</td> <td>0.2-0.5s</td> <td>0.5-1.5s</td> </tr> <tr> <td>Chart Generation</td> <td>0.1-0.3s</td> <td>0.3-0.8s</td> <td>0.8-2s</td> </tr> <tr> <td>Chat2SVG Basic</td> <td>1-3s</td> <td>3-8s</td> <td>8-15s</td> </tr> <tr> <td>Chat2SVG with Detail Enhancement</td> <td>5-10s</td> <td>10-30s</td> <td>30-90s</td> </tr> </tbody> </table> <h3 id="file-size-implications">File Size Implications<a class="headerlink" href="#file-size-implications" title="Permanent link">¶</a></h3> <table> <thead> <tr> <th>Content Type</th> <th>Raster Equivalent (PNG)</th> <th>SVG Output</th> <th>Reduction Factor</th> </tr> </thead> <tbody> <tr> <td>Simple Logo</td> <td>50-100KB</td> <td>5-15KB</td> <td>5-10×</td> </tr> <tr> <td>Chart/Diagram</td> <td>100-500KB</td> <td>10-50KB</td> <td>8-12×</td> </tr> <tr> <td>Illustration</td> <td>500KB-2MB</td> <td>50-200KB</td> <td>10-15×</td> </tr> <tr> <td>Chat2SVG Output</td> <td>1-5MB</td> <td>50-300KB</td> <td>10-20×</td> </tr> </tbody> </table> <h3 id="browser-compatibility">Browser Compatibility<a class="headerlink" href="#browser-compatibility" title="Permanent link">¶</a></h3> <p>The generated SVGs are tested for compatibility with:</p> <ul> <li>Chrome 60+</li> <li>Firefox 60+</li> <li>Safari 10+</li> <li>Edge 16+</li> <li>Opera 50+</li> <li>iOS Safari 10+</li> <li>Android Browser 67+</li> </ul> <h2 id="special-feature-national-opossum-day">Special Feature: National Opossum Day<a class="headerlink" href="#special-feature-national-opossum-day" title="Permanent link">¶</a></h2> <p>On October 18th (National Opossum Day), the system uses Chat2SVG to enhance the celebration with special opossum-themed visualizations:</p> <div class="highlight"><pre><span></span><code><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="c1"># Example usage for National Opossum Day</span>
<a href="#__codelineno-8-2" id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="k">if</span> <span class="n">is_national_opossum_day</span><span class="p">():</span>
<a href="#__codelineno-8-3" id="__codelineno-8-3" name="__codelineno-8-3"></a>    <span class="n">prompt</span> <span class="o">=</span> <span class="s2">"A celebratory opossum wearing a party hat for National Opossum Day"</span>
<a href="#__codelineno-8-4" id="__codelineno-8-4" name="__codelineno-8-4"></a>    <span class="n">svg_content</span> <span class="o">=</span> <span class="k">await</span> <span class="n">chat2svg_generator</span><span class="o">.</span><span class="n">generate_svg_from_prompt</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
<a href="#__codelineno-8-5" id="__codelineno-8-5" name="__codelineno-8-5"></a>    <span class="c1"># Use the SVG in the celebration features</span>
</code></pre></div> <p>This integration enhances the existing Easter egg functionality, providing users with delightful custom visualizations during the special event.</p> <h2 id="future-enhancements">Future Enhancements<a class="headerlink" href="#future-enhancements" title="Permanent link">¶</a></h2> <ul> <li>Style control parameters for guided Chat2SVG generation</li> <li>Additional template categories for the native system</li> <li>Integration of chat context for more relevant visualizations</li> <li>Performance optimizations for Chat2SVG pipeline</li> <li><strong>Animation Sequences</strong>: Multi-step animation capabilities</li> <li><strong>3D Perspective</strong>: 3D-like effects in SVG</li> <li><strong>Pattern Recognition</strong>: Improved pattern detection for vectorization</li> <li><strong>Collaborative Editing</strong>: Real-time multi-user SVG editing</li> </ul> <h2 id="appendix-svg-optimization-results">Appendix: SVG Optimization Results<a class="headerlink" href="#appendix-svg-optimization-results" title="Permanent link">¶</a></h2> <p>Sample optimization results for different input types:</p> <table> <thead> <tr> <th>Input Type</th> <th>Original SVG Size</th> <th>Optimized Size</th> <th>Reduction</th> <th>Rendering Performance Improvement</th> </tr> </thead> <tbody> <tr> <td>Logo</td> <td>45.2KB</td> <td>12.8KB</td> <td>71.7%</td> <td>22% faster</td> </tr> <tr> <td>Chart</td> <td>128.5KB</td> <td>36.2KB</td> <td>71.8%</td> <td>35% faster</td> </tr> <tr> <td>Map</td> <td>876.3KB</td> <td>215.9KB</td> <td>75.4%</td> <td>48% faster</td> </tr> <tr> <td>Chat2SVG Output</td> <td>520KB</td> <td>180KB</td> <td>65.4%</td> <td>38% faster</td> </tr> </tbody> </table> <h2 id="related-documentation">Related Documentation<a class="headerlink" href="#related-documentation" title="Permanent link">¶</a></h2> <ul> <li>Image Processing Overview</li> <li>Effects and Filters</li> <li>Performance Optimization</li> <li>Caching Strategy</li> <li>National Opossum Day</li> </ul> </div> </div><footer> <div aria-label="Footer Navigation" class="rst-footer-buttons" role="navigation"> <a class="btn btn-neutral float-left" href="../effects/" title="Effects and Filters"><span class="icon icon-circle-arrow-left"></span> Previous</a> <a class="btn btn-neutral float-right" href="../optimization/" title="Performance Optimization">Next <span class="icon icon-circle-arrow-right"></span></a> </div> <hr/> <div role="contentinfo"> <!-- Copyright etc --> </div> Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. </footer> </div> </div> </section> </div> <div aria-label="Versions" class="rst-versions" role="note"> <span class="rst-current-version" data-toggle="rst-current-version"> <span><a href="../effects/" style="color: #fcfcfc">« Previous</a></span> <span><a href="../optimization/" style="color: #fcfcfc">Next »</a></span> </span> </div> <script src="../../js/jquery-3.6.0.min.js"></script> <script>var base_url = "../..";</script> <script src="../../js/theme_extra.js"></script> <script src="../../js/theme.js"></script> <script src="../../search/main.js"></script> <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script> </body> </html> 