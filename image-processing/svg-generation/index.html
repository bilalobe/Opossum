<!DOCTYPE html>
<html class="writer-html5" lang="en"> <head><meta charset="utf-8"/><meta content="IE=edge" http-equiv="X-UA-Compatible"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="bebo" name="author"/><link href="../../img/favicon.ico" rel="shortcut icon"/><title>SVG Generation - Opossum Search Documentation</title><link href="../../css/theme.css" rel="stylesheet"/><link href="../../css/theme_extra.css" rel="stylesheet"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" rel="stylesheet"/><script>
        // Current page data
        var mkdocs_page_name = "SVG Generation";
        var mkdocs_page_input_path = "image-processing\\svg-generation.md";
        var mkdocs_page_url = null;
      </script><!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]--><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script><script>hljs.highlightAll();</script></head> <body class="wy-body-for-nav" role="document"> <div class="wy-grid-for-nav"> <nav class="wy-nav-side stickynav" data-toggle="wy-nav-shift"> <div class="wy-side-scroll"> <div class="wy-side-nav-search"> <a class="icon icon-home" href="../.."> Opossum Search Documentation </a><div role="search"> <form action="../../search.html" class="wy-form" id="rtd-search-form" method="get"> <input aria-label="Search docs" name="q" placeholder="Search docs" title="Type search term here" type="text"/> </form> </div> </div> <div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation"> <ul> <li class="toctree-l1"><a class="reference internal" href="../..">Home</a> </li> </ul> <p class="caption"><span class="caption-text">Technical &amp; Development</span></p> <ul> <li class="toctree-l1"><a class="reference internal">Architecture</a> <ul> <li class="toctree-l2"><a class="reference internal" href="../../technical/system-architecture-overview/">System Architecture Overview</a> </li> </ul> </li> <li class="toctree-l1"><a class="reference internal">Core Components</a> <ul> <li class="toctree-l2"><a class="reference internal" href="../../technical/redis-caching-architecture/">Redis Caching Architecture</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../technical/hybrid-model-selection/">Hybrid Model Selection</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../technical/image-processing-pipeline/">Image Processing Pipeline</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../technical/graphql-api/">GraphQL API</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../technical/opentelemetry-integration/">OpenTelemetry Integration</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../technical/svg-markup/">SVG Markup</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../technical/devops-guide/">DevOps Guide</a> </li> </ul> </li> <li class="toctree-l1"><a class="reference internal">Development Workflow</a> <ul> <li class="toctree-l2"><a class="reference internal" href="../../technical/getting-started/">Getting Started</a> </li> </ul> </li> <li class="toctree-l1"><a class="reference internal">Operations</a> <ul> <li class="toctree-l2"><a class="reference internal" href="../../technical/security-model/">Security Model</a> </li> <li class="toctree-l2"><a class="reference internal" href="../../technical/error-handling-resilience/">Error Handling &amp; Resilience</a> </li> </ul> </li> </ul> <p class="caption"><span class="caption-text">Service Availability</span></p> <ul> <li class="toctree-l1"><a class="reference internal" href="../../service-availability/context-and-scope/">Context and Scope</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../service-availability/quality-requirements/">Quality Requirements</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../service-availability/architecture-constraints/">Architecture Constraints</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../service-availability/availability-monitoring/">Availability Monitoring</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../service-availability/service-outage/">Error Handling</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../service-availability/rate-limiting-throttling/">Rate Limiting</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../service-availability/log-alerts/">Logging and Alerts</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../service-availability/testing-validation/">Testing and Validation</a> </li> </ul> <p class="caption"><span class="caption-text">Conversation Management</span></p> <ul> <li class="toctree-l1"><a class="reference internal" href="../../conversation/topic-detection/">Topic Detection</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../conversation/conversation-flow/">Conversation Flow</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../conversation/response-generation/">Response Generation</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../conversation/nlp-components/">NLP Components</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../conversation/markov-generation/">Markov Chain Text</a> </li> </ul> <p class="caption"><span class="caption-text">Image Processing</span></p> <ul class="current"> <li class="toctree-l1"><a class="reference internal" href="../overview/">Overview</a> </li> <li class="toctree-l1"><a class="reference internal" href="../effects/">Effects and Filters</a> </li> <li class="toctree-l1 current"><a class="reference internal current" href="#">SVG Generation</a> <ul class="current"> <li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a> </li> <li class="toctree-l2"><a class="reference internal" href="#core-capabilities">Core Capabilities</a> <ul> <li class="toctree-l3"><a class="reference internal" href="#raster-to-vector-conversion">Raster to Vector Conversion</a> </li> <li class="toctree-l3"><a class="reference internal" href="#data-visualization-generation">Data Visualization Generation</a> </li> <li class="toctree-l3"><a class="reference internal" href="#interactive-elements">Interactive Elements</a> </li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="#implementation-architecture">Implementation Architecture</a> </li> <li class="toctree-l2"><a class="reference internal" href="#usage-examples">Usage Examples</a> <ul> <li class="toctree-l3"><a class="reference internal" href="#basic-svg-generation">Basic SVG Generation</a> </li> <li class="toctree-l3"><a class="reference internal" href="#data-visualization">Data Visualization</a> </li> <li class="toctree-l3"><a class="reference internal" href="#template-based-generation">Template-Based Generation</a> </li> <li class="toctree-l3"><a class="reference internal" href="#graphql-api-usage">GraphQL API Usage</a> </li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="#advanced-techniques">Advanced Techniques</a> <ul> <li class="toctree-l3"><a class="reference internal" href="#image-vectorization-options">Image Vectorization Options</a> </li> <li class="toctree-l3"><a class="reference internal" href="#animation-options">Animation Options</a> </li> <li class="toctree-l3"><a class="reference internal" href="#layout-algorithms">Layout Algorithms</a> </li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="#optimization-techniques">Optimization Techniques</a> <ul> <li class="toctree-l3"><a class="reference internal" href="#size-optimization">Size Optimization</a> </li> <li class="toctree-l3"><a class="reference internal" href="#rendering-optimization">Rendering Optimization</a> </li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="#performance-considerations">Performance Considerations</a> <ul> <li class="toctree-l3"><a class="reference internal" href="#processing-time">Processing Time</a> </li> <li class="toctree-l3"><a class="reference internal" href="#file-size-implications">File Size Implications</a> </li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="#integration-with-other-components">Integration with Other Components</a> </li> <li class="toctree-l2"><a class="reference internal" href="#browser-compatibility">Browser Compatibility</a> </li> <li class="toctree-l2"><a class="reference internal" href="#future-development">Future Development</a> </li> <li class="toctree-l2"><a class="reference internal" href="#appendix-svg-optimization-results">Appendix: SVG Optimization Results</a> </li> <li class="toctree-l2"><a class="reference internal" href="#related-documentation">Related Documentation</a> </li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="../optimization/">Performance Optimization</a> </li> <li class="toctree-l1"><a class="reference internal" href="../caching/">Caching Strategy</a> </li> </ul> <p class="caption"><span class="caption-text">Model Integration</span></p> <ul> <li class="toctree-l1"><a class="reference internal" href="../../model-integration/architecture/">Architecture</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../model-integration/backend-selection/">Backend Selection</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../model-integration/capability-matrix/">Capability Matrix</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../model-integration/providers/">Provider Integration</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../model-integration/configuration/">Model Configuration</a> </li> </ul> <p class="caption"><span class="caption-text">API Reference</span></p> <ul> <li class="toctree-l1"><a class="reference internal" href="../../api/getting-started/">Getting Started</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../api/routes/">Routes</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../api/oauth-configuration/">OAuth Configuration</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../api/request-response/">Request/Response</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../api/error-codes/">Error Codes</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../api/rate-limits/">Rate Limits</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../api/webhooks/">Webhook Integration</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../api/health-endpoints/">Health Endpoints</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../api/compliance/">Compliance</a> </li> </ul> <p class="caption"><span class="caption-text">Features</span></p> <ul> <li class="toctree-l1"><a class="reference internal" href="../../features/national-day/">Opossum National Day</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../features/easter-eggs/">Easter Eggs</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../features/special-events/">Special Events</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../features/background-stories/">Background Stories</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../features/service-vizualizations/">Service Visualizations</a> </li> </ul> <p class="caption"><span class="caption-text">About</span></p> <ul> <li class="toctree-l1"><a class="reference internal" href="../../about/history/">Project History</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../about/team/">Team</a> </li> <li class="toctree-l1"><a class="reference internal" href="../../about/roadmap/">Roadmap</a> </li> </ul> <p class="caption"><span class="caption-text">Infrastructure</span></p> <ul> <li class="toctree-l1"><a class="reference internal" href="../../infrastructure/optimization-strategies/">Optimization Strategies</a> </li> </ul> </div> </div> </nav> <section class="wy-nav-content-wrap" data-toggle="wy-nav-shift"> <nav aria-label="Mobile navigation menu" class="wy-nav-top" role="navigation"> <i class="fa fa-bars" data-toggle="wy-nav-top"></i> <a href="../..">Opossum Search Documentation</a> </nav> <div class="wy-nav-content"> <div class="rst-content"><div aria-label="breadcrumbs navigation" role="navigation"> <ul class="wy-breadcrumbs"> <li><a aria-label="Docs" class="icon icon-home" href="../.."></a></li> <li class="breadcrumb-item">Image Processing</li> <li class="breadcrumb-item active">SVG Generation</li> <li class="wy-breadcrumbs-aside"> </li> </ul> <hr/> </div> <div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main"> <div class="section" itemprop="articleBody"> <h1 id="svg-generation">SVG Generation<a class="headerlink" href="#svg-generation" title="Permanent link">¶</a></h1> <h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">¶</a></h2> <p>Opossum Search includes a sophisticated SVG (Scalable Vector Graphics) generation system capable of creating, manipulating, and optimizing vector graphics for a variety of use cases. This component converts raster images to vector format, creates data visualizations, and generates interactive graphical elements that enhance the user experience.</p> <h2 id="core-capabilities">Core Capabilities<a class="headerlink" href="#core-capabilities" title="Permanent link">¶</a></h2> <h3 id="raster-to-vector-conversion">Raster to Vector Conversion<a class="headerlink" href="#raster-to-vector-conversion" title="Permanent link">¶</a></h3> <p>The system transforms bitmap images into scalable vector graphics through multiple techniques:</p> <table> <thead> <tr> <th>Conversion Method</th> <th>Best For</th> <th>Accuracy</th> <th>Performance Cost</th> </tr> </thead> <tbody> <tr> <td>Contour Tracing</td> <td>Simple shapes, logos</td> <td>High</td> <td>Low-Medium</td> </tr> <tr> <td>Color Quantization</td> <td>Illustrations, cartoons</td> <td>Medium-High</td> <td>Medium</td> </tr> <tr> <td>Path Simplification</td> <td>Complex photographs</td> <td>Medium</td> <td>High</td> </tr> <tr> <td>Spectral Clustering</td> <td>Detailed artwork</td> <td>High</td> <td>Very High</td> </tr> <tr> <td>Neural Vectorization</td> <td>Photographs, complex images</td> <td>Very High</td> <td>Extreme</td> </tr> </tbody> </table> <h3 id="data-visualization-generation">Data Visualization Generation<a class="headerlink" href="#data-visualization-generation" title="Permanent link">¶</a></h3> <p>The SVG generator creates various data visualizations from structured input:</p> <ul> <li><strong>Charts</strong>: Bar, line, area, pie, radar, and scatter plots</li> <li><strong>Diagrams</strong>: Flow charts, network diagrams, tree structures</li> <li><strong>Maps</strong>: Choropleth, bubble, and heatmap visualizations</li> <li><strong>Custom Visualizations</strong>: Domain-specific visual representations</li> <li><strong>Dashboards</strong>: Multi-component interactive displays</li> </ul> <h3 id="interactive-elements">Interactive Elements<a class="headerlink" href="#interactive-elements" title="Permanent link">¶</a></h3> <p>SVG output can include interactive capabilities:</p> <ul> <li><strong>Hover Effects</strong>: Visual feedback on element hovering</li> <li><strong>Click Actions</strong>: Interaction with individual SVG components</li> <li><strong>Animations</strong>: SMIL and CSS-based transitions and effects</li> <li><strong>Zoom and Pan</strong>: Navigation within complex visualizations</li> <li><strong>Tooltips</strong>: Contextual information displays</li> <li><strong>Responsive Behavior</strong>: Adaptation to different viewports</li> </ul> <h2 id="implementation-architecture">Implementation Architecture<a class="headerlink" href="#implementation-architecture" title="Permanent link">¶</a></h2> <pre class="mermaid"><code>graph TB
    A[Input Source] --&gt; B{Source Type}
    B --&gt;|Raster Image| C[Image Processor]
    B --&gt;|Data Structure| D[Visualization Engine]
    B --&gt;|SVG Template| E[Template Processor]

    C --&gt; F[Trace Engine]
    F --&gt; G[Path Optimizer]

    D --&gt; H[Layout Engine]
    H --&gt; I[Element Generator]

    E --&gt; J[Binding Engine]
    J --&gt; K[Template Renderer]

    G --&gt; L[SVG Composer]
    I --&gt; L
    K --&gt; L

    L --&gt; M[Optimizer]
    M --&gt; N[Output Generator]
</code></pre> <h2 id="usage-examples">Usage Examples<a class="headerlink" href="#usage-examples" title="Permanent link">¶</a></h2> <h3 id="basic-svg-generation">Basic SVG Generation<a class="headerlink" href="#basic-svg-generation" title="Permanent link">¶</a></h3> <div class="highlight"><pre><span></span><code><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">opossum.svg</span><span class="w"> </span><span class="kn">import</span> <span class="n">SVGGenerator</span>
<a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a>
<a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="c1"># Initialize generator</span>
<a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="n">generator</span> <span class="o">=</span> <span class="n">SVGGenerator</span><span class="p">(</span><span class="n">optimization_level</span><span class="o">=</span><span class="s1">'medium'</span><span class="p">)</span>
<a href="#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a>
<a href="#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="c1"># Generate SVG from image</span>
<a href="#__codelineno-0-7" id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="n">svg_content</span> <span class="o">=</span> <span class="n">generator</span><span class="o">.</span><span class="n">from_image</span><span class="p">(</span>
<a href="#__codelineno-0-8" id="__codelineno-0-8" name="__codelineno-0-8"></a>    <span class="n">image_path</span><span class="o">=</span><span class="s1">'path/to/image.jpg'</span><span class="p">,</span>
<a href="#__codelineno-0-9" id="__codelineno-0-9" name="__codelineno-0-9"></a>    <span class="n">options</span><span class="o">=</span><span class="p">{</span>
<a href="#__codelineno-0-10" id="__codelineno-0-10" name="__codelineno-0-10"></a>        <span class="s1">'max_colors'</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
<a href="#__codelineno-0-11" id="__codelineno-0-11" name="__codelineno-0-11"></a>        <span class="s1">'smoothing'</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<a href="#__codelineno-0-12" id="__codelineno-0-12" name="__codelineno-0-12"></a>        <span class="s1">'detail_level'</span><span class="p">:</span> <span class="s1">'medium'</span>
<a href="#__codelineno-0-13" id="__codelineno-0-13" name="__codelineno-0-13"></a>    <span class="p">}</span>
<a href="#__codelineno-0-14" id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="p">)</span>
<a href="#__codelineno-0-15" id="__codelineno-0-15" name="__codelineno-0-15"></a>
<a href="#__codelineno-0-16" id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="c1"># Save the SVG</span>
<a href="#__codelineno-0-17" id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'output.svg'</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a href="#__codelineno-0-18" id="__codelineno-0-18" name="__codelineno-0-18"></a>    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">svg_content</span><span class="p">)</span>
</code></pre></div> <h3 id="data-visualization">Data Visualization<a class="headerlink" href="#data-visualization" title="Permanent link">¶</a></h3> <div class="highlight"><pre><span></span><code><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">opossum.svg</span><span class="w"> </span><span class="kn">import</span> <span class="n">ChartGenerator</span>
<a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a>
<a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="c1"># Create chart data</span>
<a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
<a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a>    <span class="p">{</span><span class="s1">'month'</span><span class="p">:</span> <span class="s1">'Jan'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">:</span> <span class="mi">42</span><span class="p">},</span>
<a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a>    <span class="p">{</span><span class="s1">'month'</span><span class="p">:</span> <span class="s1">'Feb'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">:</span> <span class="mi">56</span><span class="p">},</span>
<a href="#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a>    <span class="p">{</span><span class="s1">'month'</span><span class="p">:</span> <span class="s1">'Mar'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">:</span> <span class="mi">35</span><span class="p">},</span>
<a href="#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a>    <span class="p">{</span><span class="s1">'month'</span><span class="p">:</span> <span class="s1">'Apr'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">:</span> <span class="mi">68</span><span class="p">},</span>
<a href="#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a>    <span class="p">{</span><span class="s1">'month'</span><span class="p">:</span> <span class="s1">'May'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">:</span> <span class="mi">89</span><span class="p">}</span>
<a href="#__codelineno-1-10" id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="p">]</span>
<a href="#__codelineno-1-11" id="__codelineno-1-11" name="__codelineno-1-11"></a>
<a href="#__codelineno-1-12" id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="c1"># Generate bar chart</span>
<a href="#__codelineno-1-13" id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="n">chart</span> <span class="o">=</span> <span class="n">ChartGenerator</span><span class="o">.</span><span class="n">bar_chart</span><span class="p">(</span>
<a href="#__codelineno-1-14" id="__codelineno-1-14" name="__codelineno-1-14"></a>    <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> 
<a href="#__codelineno-1-15" id="__codelineno-1-15" name="__codelineno-1-15"></a>    <span class="n">x_key</span><span class="o">=</span><span class="s1">'month'</span><span class="p">,</span>
<a href="#__codelineno-1-16" id="__codelineno-1-16" name="__codelineno-1-16"></a>    <span class="n">y_key</span><span class="o">=</span><span class="s1">'value'</span><span class="p">,</span>
<a href="#__codelineno-1-17" id="__codelineno-1-17" name="__codelineno-1-17"></a>    <span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span>
<a href="#__codelineno-1-18" id="__codelineno-1-18" name="__codelineno-1-18"></a>    <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
<a href="#__codelineno-1-19" id="__codelineno-1-19" name="__codelineno-1-19"></a>    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">'#4285F4'</span><span class="p">,</span> <span class="s1">'#34A853'</span><span class="p">,</span> <span class="s1">'#FBBC05'</span><span class="p">,</span> <span class="s1">'#EA4335'</span><span class="p">,</span> <span class="s1">'#8142F4'</span><span class="p">],</span>
<a href="#__codelineno-1-20" id="__codelineno-1-20" name="__codelineno-1-20"></a>    <span class="n">title</span><span class="o">=</span><span class="s1">'Monthly Performance'</span><span class="p">,</span>
<a href="#__codelineno-1-21" id="__codelineno-1-21" name="__codelineno-1-21"></a>    <span class="n">animate</span><span class="o">=</span><span class="kc">True</span>
<a href="#__codelineno-1-22" id="__codelineno-1-22" name="__codelineno-1-22"></a><span class="p">)</span>
<a href="#__codelineno-1-23" id="__codelineno-1-23" name="__codelineno-1-23"></a>
<a href="#__codelineno-1-24" id="__codelineno-1-24" name="__codelineno-1-24"></a><span class="c1"># Get SVG string</span>
<a href="#__codelineno-1-25" id="__codelineno-1-25" name="__codelineno-1-25"></a><span class="n">svg_content</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">to_svg</span><span class="p">()</span>
</code></pre></div> <h3 id="template-based-generation">Template-Based Generation<a class="headerlink" href="#template-based-generation" title="Permanent link">¶</a></h3> <div class="highlight"><pre><span></span><code><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">opossum.svg</span><span class="w"> </span><span class="kn">import</span> <span class="n">TemplateRenderer</span>
<a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a>
<a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="c1"># Define data for template</span>
<a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<a href="#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a>    <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'System Status'</span><span class="p">,</span>
<a href="#__codelineno-2-6" id="__codelineno-2-6" name="__codelineno-2-6"></a>    <span class="s1">'components'</span><span class="p">:</span> <span class="p">[</span>
<a href="#__codelineno-2-7" id="__codelineno-2-7" name="__codelineno-2-7"></a>        <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span> <span class="s1">'API'</span><span class="p">,</span> <span class="s1">'status'</span><span class="p">:</span> <span class="s1">'healthy'</span><span class="p">,</span> <span class="s1">'uptime'</span><span class="p">:</span> <span class="mf">99.98</span><span class="p">},</span>
<a href="#__codelineno-2-8" id="__codelineno-2-8" name="__codelineno-2-8"></a>        <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Database'</span><span class="p">,</span> <span class="s1">'status'</span><span class="p">:</span> <span class="s1">'degraded'</span><span class="p">,</span> <span class="s1">'uptime'</span><span class="p">:</span> <span class="mf">98.5</span><span class="p">},</span>
<a href="#__codelineno-2-9" id="__codelineno-2-9" name="__codelineno-2-9"></a>        <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Cache'</span><span class="p">,</span> <span class="s1">'status'</span><span class="p">:</span> <span class="s1">'healthy'</span><span class="p">,</span> <span class="s1">'uptime'</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">}</span>
<a href="#__codelineno-2-10" id="__codelineno-2-10" name="__codelineno-2-10"></a>    <span class="p">],</span>
<a href="#__codelineno-2-11" id="__codelineno-2-11" name="__codelineno-2-11"></a>    <span class="s1">'last_updated'</span><span class="p">:</span> <span class="s1">'2023-03-15T14:32:45Z'</span>
<a href="#__codelineno-2-12" id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="p">}</span>
<a href="#__codelineno-2-13" id="__codelineno-2-13" name="__codelineno-2-13"></a>
<a href="#__codelineno-2-14" id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="c1"># Render template with data</span>
<a href="#__codelineno-2-15" id="__codelineno-2-15" name="__codelineno-2-15"></a><span class="n">renderer</span> <span class="o">=</span> <span class="n">TemplateRenderer</span><span class="p">()</span>
<a href="#__codelineno-2-16" id="__codelineno-2-16" name="__codelineno-2-16"></a><span class="n">svg_content</span> <span class="o">=</span> <span class="n">renderer</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
<a href="#__codelineno-2-17" id="__codelineno-2-17" name="__codelineno-2-17"></a>    <span class="n">template_name</span><span class="o">=</span><span class="s1">'system_status'</span><span class="p">,</span>
<a href="#__codelineno-2-18" id="__codelineno-2-18" name="__codelineno-2-18"></a>    <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
<a href="#__codelineno-2-19" id="__codelineno-2-19" name="__codelineno-2-19"></a>    <span class="n">options</span><span class="o">=</span><span class="p">{</span><span class="s1">'width'</span><span class="p">:</span> <span class="mi">600</span><span class="p">,</span> <span class="s1">'height'</span><span class="p">:</span> <span class="mi">300</span><span class="p">}</span>
<a href="#__codelineno-2-20" id="__codelineno-2-20" name="__codelineno-2-20"></a><span class="p">)</span>
</code></pre></div> <h3 id="graphql-api-usage">GraphQL API Usage<a class="headerlink" href="#graphql-api-usage" title="Permanent link">¶</a></h3> <div class="highlight"><pre><span></span><code><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="k">mutation</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">  </span><span class="n">generateSVG</span><span class="p">(</span>
<a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">    </span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">      </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="no">CHART</span>
<a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="w">      </span><span class="n">chartType</span><span class="p">:</span><span class="w"> </span><span class="no">BAR</span>
<a href="#__codelineno-3-6" id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">      </span><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="s">"[{</span><span class="se">\"</span><span class="s">category</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">A</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:10},{</span><span class="se">\"</span><span class="s">category</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">B</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s">:15}]"</span>
<a href="#__codelineno-3-7" id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="w">      </span><span class="n">options</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-3-8" id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="w">        </span><span class="n">width</span><span class="p">:</span><span class="w"> </span><span class="mi">800</span>
<a href="#__codelineno-3-9" id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="w">        </span><span class="n">height</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span>
<a href="#__codelineno-3-10" id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="w">        </span><span class="n">colors</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">"#4285F4"</span><span class="p">,</span><span class="w"> </span><span class="s">"#34A853"</span><span class="p">]</span>
<a href="#__codelineno-3-11" id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="w">        </span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="s">"Sample Chart"</span>
<a href="#__codelineno-3-12" id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="w">        </span><span class="n">animate</span><span class="p">:</span><span class="w"> </span><span class="nb">true</span>
<a href="#__codelineno-3-13" id="__codelineno-3-13" name="__codelineno-3-13"></a><span class="w">      </span><span class="p">}</span>
<a href="#__codelineno-3-14" id="__codelineno-3-14" name="__codelineno-3-14"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-3-15" id="__codelineno-3-15" name="__codelineno-3-15"></a><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-3-16" id="__codelineno-3-16" name="__codelineno-3-16"></a><span class="w">    </span><span class="n">svg</span>
<a href="#__codelineno-3-17" id="__codelineno-3-17" name="__codelineno-3-17"></a><span class="w">    </span><span class="n">dimensions</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-3-18" id="__codelineno-3-18" name="__codelineno-3-18"></a><span class="w">      </span><span class="n">width</span>
<a href="#__codelineno-3-19" id="__codelineno-3-19" name="__codelineno-3-19"></a><span class="w">      </span><span class="n">height</span>
<a href="#__codelineno-3-20" id="__codelineno-3-20" name="__codelineno-3-20"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-3-21" id="__codelineno-3-21" name="__codelineno-3-21"></a><span class="w">    </span><span class="n">optimizationLevel</span>
<a href="#__codelineno-3-22" id="__codelineno-3-22" name="__codelineno-3-22"></a><span class="w">    </span><span class="n">fileSize</span>
<a href="#__codelineno-3-23" id="__codelineno-3-23" name="__codelineno-3-23"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-3-24" id="__codelineno-3-24" name="__codelineno-3-24"></a><span class="p">}</span>
</code></pre></div> <h2 id="advanced-techniques">Advanced Techniques<a class="headerlink" href="#advanced-techniques" title="Permanent link">¶</a></h2> <h3 id="image-vectorization-options">Image Vectorization Options<a class="headerlink" href="#image-vectorization-options" title="Permanent link">¶</a></h3> <p>The image vectorization engine provides several parameters to control the output:</p> <table> <thead> <tr> <th>Parameter</th> <th>Description</th> <th>Values</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>max_colors</code></td> <td>Maximum colors in output</td> <td>2-256</td> <td>16</td> </tr> <tr> <td><code>detail_level</code></td> <td>Level of detail to preserve</td> <td>'low', 'medium', 'high', 'ultra'</td> <td>'medium'</td> </tr> <tr> <td><code>smoothing</code></td> <td>Path smoothing factor</td> <td>0.0-1.0</td> <td>0.5</td> </tr> <tr> <td><code>min_path_length</code></td> <td>Minimum path length to include</td> <td>0-100 pixels</td> <td>5</td> </tr> <tr> <td><code>corner_threshold</code></td> <td>Angle for detecting corners</td> <td>10-170 degrees</td> <td>120</td> </tr> <tr> <td><code>error_threshold</code></td> <td>Maximum allowed deviation</td> <td>0.1-10.0</td> <td>1.0</td> </tr> <tr> <td><code>stack_paths</code></td> <td>Layer paths by color</td> <td>boolean</td> <td>true</td> </tr> <tr> <td><code>simplify_paths</code></td> <td>Apply path simplification</td> <td>boolean</td> <td>true</td> </tr> </tbody> </table> <h3 id="animation-options">Animation Options<a class="headerlink" href="#animation-options" title="Permanent link">¶</a></h3> <p>SVG animations can be configured with these parameters:</p> <table> <thead> <tr> <th>Parameter</th> <th>Description</th> <th>Values</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>animation_type</code></td> <td>Type of animation</td> <td>'fade', 'grow', 'slide', 'bounce', 'custom'</td> <td>'fade'</td> </tr> <tr> <td><code>duration</code></td> <td>Animation duration</td> <td>100-10000ms</td> <td>500</td> </tr> <tr> <td><code>delay</code></td> <td>Delay before animation starts</td> <td>0-10000ms</td> <td>0</td> </tr> <tr> <td><code>easing</code></td> <td>Easing function</td> <td>'linear', 'ease', 'ease-in', 'ease-out', 'ease-in-out'</td> <td>'ease'</td> </tr> <tr> <td><code>repeat_count</code></td> <td>Number of repetitions</td> <td>0-infinite</td> <td>1</td> </tr> <tr> <td><code>trigger</code></td> <td>What triggers the animation</td> <td>'load', 'scroll', 'click', 'hover'</td> <td>'load'</td> </tr> </tbody> </table> <h3 id="layout-algorithms">Layout Algorithms<a class="headerlink" href="#layout-algorithms" title="Permanent link">¶</a></h3> <p>Different layout algorithms are available for data visualizations:</p> <ul> <li><strong>Force-Directed</strong>: Network graphs with physical simulation</li> <li><strong>Tree</strong>: Hierarchical tree structures (top-down, bottom-up, radial)</li> <li><strong>Grid</strong>: Regular grid-based layouts</li> <li><strong>Circular</strong>: Circular and radial arrangements</li> <li><strong>Stack</strong>: Stacked compositions for part-to-whole relationships</li> <li><strong>Flow</strong>: Directed graphs for process flows</li> <li><strong>Custom</strong>: User-defined positioning functions</li> </ul> <h2 id="optimization-techniques">Optimization Techniques<a class="headerlink" href="#optimization-techniques" title="Permanent link">¶</a></h2> <p>The SVG optimization engine improves output quality and file size:</p> <h3 id="size-optimization">Size Optimization<a class="headerlink" href="#size-optimization" title="Permanent link">¶</a></h3> <ul> <li><strong>Path Simplification</strong>: Reduces point count while maintaining shape</li> <li><strong>Decimal Precision</strong>: Truncates coordinates to necessary precision</li> <li><strong>SVGO Integration</strong>: Applies comprehensive optimization techniques</li> <li><strong>Attribute Minimization</strong>: Removes redundant or default attributes</li> <li><strong>ID Shortening</strong>: Reduces the length of internal IDs</li> </ul> <h3 id="rendering-optimization">Rendering Optimization<a class="headerlink" href="#rendering-optimization" title="Permanent link">¶</a></h3> <ul> <li><strong>Paint Order Adjustment</strong>: Optimizes rendering order for performance</li> <li><strong>Text to Path Conversion</strong>: Ensures consistent display without fonts</li> <li><strong>Gradient Simplification</strong>: Simplifies complex gradients</li> <li><strong>Filter Effect Optimization</strong>: Streamlines filter definitions</li> <li><strong>View Box Normalization</strong>: Standardizes coordinate systems</li> </ul> <h2 id="performance-considerations">Performance Considerations<a class="headerlink" href="#performance-considerations" title="Permanent link">¶</a></h2> <h3 id="processing-time">Processing Time<a class="headerlink" href="#processing-time" title="Permanent link">¶</a></h3> <table> <thead> <tr> <th>Operation</th> <th>Small Image (&lt;500px)</th> <th>Medium Image (500-1500px)</th> <th>Large Image (&gt;1500px)</th> </tr> </thead> <tbody> <tr> <td>Simple Trace</td> <td>0.2-0.5s</td> <td>0.5-2s</td> <td>2-10s</td> </tr> <tr> <td>Color Quantized</td> <td>0.5-1s</td> <td>1-5s</td> <td>5-30s</td> </tr> <tr> <td>Neural Vectorization</td> <td>5-10s</td> <td>10-60s</td> <td>60-300s</td> </tr> <tr> <td>Chart Generation</td> <td>0.1-0.3s</td> <td>0.3-0.8s</td> <td>0.8-2s</td> </tr> <tr> <td>Template Rendering</td> <td>0.1-0.2s</td> <td>0.2-0.5s</td> <td>0.5-1.5s</td> </tr> </tbody> </table> <h3 id="file-size-implications">File Size Implications<a class="headerlink" href="#file-size-implications" title="Permanent link">¶</a></h3> <table> <thead> <tr> <th>Content Type</th> <th>Raster Equivalent (PNG)</th> <th>SVG Output</th> <th>Reduction Factor</th> </tr> </thead> <tbody> <tr> <td>Simple Logo</td> <td>50-100KB</td> <td>5-15KB</td> <td>5-10×</td> </tr> <tr> <td>Chart/Diagram</td> <td>100-500KB</td> <td>10-50KB</td> <td>8-12×</td> </tr> <tr> <td>Illustration</td> <td>500KB-2MB</td> <td>50-200KB</td> <td>10-15×</td> </tr> <tr> <td>Photograph</td> <td>1-5MB</td> <td>200-800KB</td> <td>5-8×</td> </tr> <tr> <td>Complex Artwork</td> <td>5-20MB</td> <td>0.5-3MB</td> <td>7-10×</td> </tr> </tbody> </table> <h2 id="integration-with-other-components">Integration with Other Components<a class="headerlink" href="#integration-with-other-components" title="Permanent link">¶</a></h2> <p>The SVG generation system integrates with several other Opossum components:</p> <ul> <li><strong>Image Processing</strong>: Provides input for vectorization</li> <li><strong>Caching System</strong>: Stores generated SVGs for reuse</li> <li><strong>Response Generation</strong>: Embeds SVGs in conversation responses</li> <li><strong>GraphQL API</strong>: Exposes SVG generation capabilities</li> <li><strong>Model Integration</strong>: Uses AI models for advanced vectorization</li> </ul> <h2 id="browser-compatibility">Browser Compatibility<a class="headerlink" href="#browser-compatibility" title="Permanent link">¶</a></h2> <p>The generated SVGs are tested for compatibility with:</p> <ul> <li>Chrome 60+</li> <li>Firefox 60+</li> <li>Safari 10+</li> <li>Edge 16+</li> <li>Opera 50+</li> <li>iOS Safari 10+</li> <li>Android Browser 67+</li> </ul> <p>Fallback mechanisms are implemented for older browsers.</p> <h2 id="future-development">Future Development<a class="headerlink" href="#future-development" title="Permanent link">¶</a></h2> <p>The SVG generation system roadmap includes:</p> <ul> <li><strong>Animation Sequences</strong>: Multi-step animation capabilities</li> <li><strong>3D Perspective</strong>: 3D-like effects in SVG</li> <li><strong>Pattern Recognition</strong>: Improved pattern detection for vectorization</li> <li><strong>Code Output</strong>: Generated code for programmatic SVG creation</li> <li><strong>Style Transfer</strong>: AI-powered artistic style application to SVGs</li> <li><strong>Collaborative Editing</strong>: Real-time multi-user SVG editing</li> </ul> <h2 id="appendix-svg-optimization-results">Appendix: SVG Optimization Results<a class="headerlink" href="#appendix-svg-optimization-results" title="Permanent link">¶</a></h2> <p>Sample optimization results for different input types:</p> <table> <thead> <tr> <th>Input Type</th> <th>Original SVG Size</th> <th>Optimized Size</th> <th>Reduction</th> <th>Rendering Performance Improvement</th> </tr> </thead> <tbody> <tr> <td>Logo</td> <td>45.2KB</td> <td>12.8KB</td> <td>71.7%</td> <td>22% faster</td> </tr> <tr> <td>Chart</td> <td>128.5KB</td> <td>36.2KB</td> <td>71.8%</td> <td>35% faster</td> </tr> <tr> <td>Map</td> <td>876.3KB</td> <td>215.9KB</td> <td>75.4%</td> <td>48% faster</td> </tr> <tr> <td>Illustration</td> <td>1.2MB</td> <td>380KB</td> <td>68.3%</td> <td>41% faster</td> </tr> <tr> <td>Photo Trace</td> <td>3.5MB</td> <td>860KB</td> <td>75.4%</td> <td>56% faster</td> </tr> </tbody> </table> <div class="admonition tip"> <p class="admonition-title">Tip</p> <p>SVG optimization significantly reduces file sizes and improves rendering performance, making it ideal for web-based applications.</p> </div> <h2 id="related-documentation">Related Documentation<a class="headerlink" href="#related-documentation" title="Permanent link">¶</a></h2> <ul> <li>Image Processing Overview</li> <li>Effects and Filters</li> <li>Performance Optimization</li> <li>Caching Strategy</li> <li>SVG Markup</li> </ul> </div> </div><footer> <div aria-label="Footer Navigation" class="rst-footer-buttons" role="navigation"> <a class="btn btn-neutral float-left" href="../effects/" title="Effects and Filters"><span class="icon icon-circle-arrow-left"></span> Previous</a> <a class="btn btn-neutral float-right" href="../optimization/" title="Performance Optimization">Next <span class="icon icon-circle-arrow-right"></span></a> </div> <hr/> <div role="contentinfo"> <!-- Copyright etc --> </div> Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. </footer> </div> </div> </section> </div> <div aria-label="Versions" class="rst-versions" role="note"> <span class="rst-current-version" data-toggle="rst-current-version"> <span><a href="../effects/" style="color: #fcfcfc">« Previous</a></span> <span><a href="../optimization/" style="color: #fcfcfc">Next »</a></span> </span> </div> <script src="../../js/jquery-3.6.0.min.js"></script> <script>var base_url = "../..";</script> <script src="../../js/theme_extra.js"></script> <script src="../../js/theme.js"></script> <script src="../../search/main.js"></script> <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script> <script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
window.mermaidConfig = {default: {
    startOnLoad: false
}};</script></body> </html> 